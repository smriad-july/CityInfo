2025-11-04 23:08:30.841 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-04 23:08:30.952 +06:00 [DBG] Hosting starting
2025-11-04 23:08:30.967 +06:00 [INF] User profile is available. Using 'C:\Users\smriad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-04 23:08:30.975 +06:00 [DBG] Reading data from file 'C:\Users\smriad\AppData\Local\ASP.NET\DataProtection-Keys\key-1818f3f5-7bdd-4648-bb32-28b47dfaa762.xml'.
2025-11-04 23:08:31.010 +06:00 [DBG] Reading data from file 'C:\Users\smriad\AppData\Local\ASP.NET\DataProtection-Keys\key-5d61769b-4ede-4b43-8e40-62f52be3088d.xml'.
2025-11-04 23:08:31.032 +06:00 [DBG] Reading data from file 'C:\Users\smriad\AppData\Local\ASP.NET\DataProtection-Keys\key-d35e7b7f-1dbb-4d32-ae68-2df697aedf39.xml'.
2025-11-04 23:08:31.084 +06:00 [DBG] Found key {1818f3f5-7bdd-4648-bb32-28b47dfaa762}.
2025-11-04 23:08:31.088 +06:00 [DBG] Found key {5d61769b-4ede-4b43-8e40-62f52be3088d}.
2025-11-04 23:08:31.090 +06:00 [DBG] Found key {d35e7b7f-1dbb-4d32-ae68-2df697aedf39}.
2025-11-04 23:08:31.095 +06:00 [DBG] Considering key {d35e7b7f-1dbb-4d32-ae68-2df697aedf39} with expiration date 2025-11-09 08:11:23Z as default key.
2025-11-04 23:08:31.099 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-04 23:08:31.102 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-11-04 23:08:31.104 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-04 23:08:31.109 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-11-04 23:08:31.112 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-11-04 23:08:31.114 +06:00 [DBG] Using key {d35e7b7f-1dbb-4d32-ae68-2df697aedf39} as the default key.
2025-11-04 23:08:31.116 +06:00 [DBG] Key ring with default key {d35e7b7f-1dbb-4d32-ae68-2df697aedf39} was loaded during application startup.
2025-11-04 23:08:31.123 +06:00 [DBG] Middleware loaded
2025-11-04 23:08:31.126 +06:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16509 B).
2025-11-04 23:08:31.129 +06:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-11-04 23:08:31.228 +06:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-11-04 23:08:31.322 +06:00 [INF] Now listening on: https://localhost:7156
2025-11-04 23:08:31.324 +06:00 [INF] Now listening on: http://localhost:5062
2025-11-04 23:08:31.325 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-11-04 23:08:31.326 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-04 23:08:31.328 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-11-04 23:08:31.329 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-04 23:08:31.384 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-04 23:08:31.385 +06:00 [INF] Hosting environment: Development
2025-11-04 23:08:31.388 +06:00 [INF] Content root path: D:\GitHub\CityInfo\CityInfo.API\CityInfo.API
2025-11-04 23:08:31.390 +06:00 [DBG] Hosting started
2025-11-04 23:09:10.436 +06:00 [DBG] Connection id "0HNGROJFI6K7R" accepted.
2025-11-04 23:09:10.443 +06:00 [DBG] Connection id "0HNGROJFI6K7R" started.
2025-11-04 23:09:10.528 +06:00 [DBG] Connection 0HNGROJFI6K7R established using the following protocol: "Tls13"
2025-11-04 23:09:10.594 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/home/dhaka - null null
2025-11-04 23:09:10.606 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-04 23:09:10.613 +06:00 [DBG] The request path  does not match the path filter
2025-11-04 23:09:10.615 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:09:10.619 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:09:10.642 +06:00 [DBG] 1 candidate(s) found for the request path '/home/dhaka'
2025-11-04 23:09:10.646 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.HomeController.SearchResult (CityInfo.API)' with route pattern 'home/{obj}' is valid for the request path '/home/dhaka'
2025-11-04 23:09:10.649 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.HomeController.SearchResult (CityInfo.API)'
2025-11-04 23:09:11.762 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:09:11.770 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.HomeController.SearchResult (CityInfo.API)'
2025-11-04 23:09:11.801 +06:00 [INF] Route matched with {action = "SearchResult", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.SearchDto]]] SearchResult(System.String) on controller CityInfo.API.Controllers.HomeController (CityInfo.API).
2025-11-04 23:09:11.806 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-04 23:09:11.809 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-04 23:09:11.837 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-04 23:09:11.839 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-04 23:09:11.841 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-04 23:09:11.868 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.HomeController (CityInfo.API)
2025-11-04 23:09:12.271 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-11-04 23:09:12.413 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.HomeController (CityInfo.API)
2025-11-04 23:09:12.416 +06:00 [DBG] Attempting to bind parameter 'obj' of type 'System.String' ...
2025-11-04 23:09:12.423 +06:00 [DBG] Attempting to bind parameter 'obj' of type 'System.String' using the name 'obj' in request data ...
2025-11-04 23:09:12.427 +06:00 [DBG] Done attempting to bind parameter 'obj' of type 'System.String'.
2025-11-04 23:09:12.434 +06:00 [DBG] Done attempting to bind parameter 'obj' of type 'System.String'.
2025-11-04 23:09:12.435 +06:00 [DBG] Attempting to validate the bound parameter 'obj' of type 'System.String' ...
2025-11-04 23:09:12.444 +06:00 [DBG] Done attempting to validate the bound parameter 'obj' of type 'System.String'.
2025-11-04 23:09:30.431 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-11-04 23:09:30.815 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __obj_0)'
2025-11-04 23:09:30.962 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], [Property: City.userId (int) Required FK Index, 3] }
        SELECT c.Id, c.Description, c.Name, c.userId
        FROM Cities AS c
        WHERE c.Name == @__obj_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2025-11-04 23:09:31.001 +06:00 [DBG] Creating DbConnection.
2025-11-04 23:09:31.031 +06:00 [DBG] Created DbConnection. (28ms).
2025-11-04 23:09:31.035 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:09:31.945 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:09:31.949 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:09:31.959 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-11-04 23:09:31.970 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (20ms).
2025-11-04 23:09:31.978 +06:00 [DBG] Executing DbCommand [Parameters=[@__obj_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Name] = @__obj_0
2025-11-04 23:09:32.147 +06:00 [ERR] Failed executing DbCommand (170ms) [Parameters=[@__obj_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Name] = @__obj_0
2025-11-04 23:09:32.152 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:09:32.158 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (4ms).
2025-11-04 23:09:32.207 +06:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Cities'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d08c73e9-303e-45cd-901b-400ce8e18fd8
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Cities'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d08c73e9-303e-45cd-901b-400ce8e18fd8
Error Number:208,State:1,Class:16
2025-11-04 23:09:32.347 +06:00 [INF] Executed action CityInfo.API.Controllers.HomeController.SearchResult (CityInfo.API) in 20478.8926ms
2025-11-04 23:09:32.354 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.HomeController.SearchResult (CityInfo.API)'
2025-11-04 23:09:32.358 +06:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Cities'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetCitiesAsync(String obj) in D:\GitHub\CityInfo\CityInfo.API\CityInfo.API\Services\CityInfoRepository.cs:line 24
   at CityInfo.API.Controllers.HomeController.SearchResult(String obj) in D:\GitHub\CityInfo\CityInfo.API\CityInfo.API\Controllers\HomeController.cs:line 31
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:d08c73e9-303e-45cd-901b-400ce8e18fd8
Error Number:208,State:1,Class:16
2025-11-04 23:09:32.495 +06:00 [DBG] 'CityInfoContext' disposed.
2025-11-04 23:09:32.501 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:09:32.503 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-11-04 23:09:32.507 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/home/dhaka - 500 null text/plain; charset=utf-8 21912.677ms
2025-11-04 23:25:47.788 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-11-04 23:25:48.234 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-11-04 23:25:48.250 +06:00 [DBG] Creating DbConnection.
2025-11-04 23:25:48.618 +06:00 [DBG] Created DbConnection. (364ms).
2025-11-04 23:25:48.621 +06:00 [DBG] Migrating using database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:48.633 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:49.488 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:49.491 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:49.494 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-11-04 23:25:49.495 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2025-11-04 23:25:49.499 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-04 23:25:49.520 +06:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-04 23:25:49.521 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:49.528 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (3ms).
2025-11-04 23:25:49.530 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-11-04 23:25:49.530 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-11-04 23:25:49.530 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-11-04 23:25:49.531 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:49.531 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:49.531 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-04 23:25:49.538 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-04 23:25:49.538 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:49.538 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (0ms).
2025-11-04 23:25:49.538 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:49.539 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:49.539 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:49.539 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:49.539 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:49.539 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-04 23:25:49.540 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-04 23:25:49.540 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:49.540 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (0ms).
2025-11-04 23:25:49.611 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:49.612 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:49.612 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:49.612 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:49.612 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:49.612 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-11-04 23:25:49.619 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-11-04 23:25:49.620 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:49.620 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (0ms).
2025-11-04 23:25:49.621 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:49.621 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:49.621 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:49.621 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:49.621 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:49.621 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-04 23:25:49.622 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-04 23:25:49.622 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:49.622 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (0ms).
2025-11-04 23:25:49.622 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-11-04 23:25:49.622 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-11-04 23:25:49.622 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-11-04 23:25:49.622 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:49.623 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:49.623 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-04 23:25:49.625 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-04 23:25:49.625 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:49.625 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (0ms).
2025-11-04 23:25:49.626 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:49.626 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:49.626 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:25:49.626 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-04 23:25:49.626 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-11-04 23:25:49.627 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-04 23:25:49.634 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-04 23:25:49.636 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:49.637 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 1ms reading results.
2025-11-04 23:25:49.637 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:49.637 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (0ms).
2025-11-04 23:25:49.646 +06:00 [INF] Applying migration '20231229043508_initial-migration'.
2025-11-04 23:25:49.675 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:49.675 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:49.677 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-04 23:25:49.682 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-04 23:25:49.683 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:49.824 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (140ms).
2025-11-04 23:25:49.825 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (141ms).
2025-11-04 23:25:49.826 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([Id])
);
2025-11-04 23:25:49.828 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([Id])
);
2025-11-04 23:25:49.828 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:49.828 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:49.828 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:49.828 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [PointsOfInterest] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NOT NULL,
    [CityId] int NOT NULL,
    CONSTRAINT [PK_PointsOfInterest] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_PointsOfInterest_Cities_CityId] FOREIGN KEY ([CityId]) REFERENCES [Cities] ([Id]) ON DELETE CASCADE
);
2025-11-04 23:25:49.833 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [PointsOfInterest] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NOT NULL,
    [CityId] int NOT NULL,
    CONSTRAINT [PK_PointsOfInterest] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_PointsOfInterest_Cities_CityId] FOREIGN KEY ([CityId]) REFERENCES [Cities] ([Id]) ON DELETE CASCADE
);
2025-11-04 23:25:49.834 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:49.834 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:49.834 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:49.834 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_PointsOfInterest_CityId] ON [PointsOfInterest] ([CityId]);
2025-11-04 23:25:49.836 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_PointsOfInterest_CityId] ON [PointsOfInterest] ([CityId]);
2025-11-04 23:25:49.837 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:49.837 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:49.837 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:49.837 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20231229043508_initial-migration', N'8.0.0');
2025-11-04 23:25:49.840 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20231229043508_initial-migration', N'8.0.0');
2025-11-04 23:25:49.843 +06:00 [DBG] Committing transaction.
2025-11-04 23:25:49.847 +06:00 [DBG] Committed transaction.
2025-11-04 23:25:49.848 +06:00 [DBG] Disposing transaction.
2025-11-04 23:25:49.848 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:49.848 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (0ms).
2025-11-04 23:25:49.848 +06:00 [INF] Applying migration '20240111121640_v2'.
2025-11-04 23:25:49.862 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:49.862 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:49.862 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-04 23:25:49.863 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-04 23:25:49.863 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:49.863 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:49.863 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:49.863 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[PointsOfInterest]') AND [c].[name] = N'Description');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [PointsOfInterest] ALTER COLUMN [Description] nvarchar(200) NULL;
2025-11-04 23:25:50.358 +06:00 [INF] Executed DbCommand (494ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[PointsOfInterest]') AND [c].[name] = N'Description');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [PointsOfInterest] ALTER COLUMN [Description] nvarchar(200) NULL;
2025-11-04 23:25:50.358 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:50.358 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:50.358 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:50.358 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [userName] nvarchar(50) NOT NULL,
    [password] nvarchar(50) NOT NULL,
    [email] nvarchar(50) NOT NULL,
    [firstName] nvarchar(50) NOT NULL,
    [lastName] nvarchar(max) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2025-11-04 23:25:50.361 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [userName] nvarchar(50) NOT NULL,
    [password] nvarchar(50) NOT NULL,
    [email] nvarchar(50) NOT NULL,
    [firstName] nvarchar(50) NOT NULL,
    [lastName] nvarchar(max) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2025-11-04 23:25:50.361 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:50.361 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:50.361 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:50.361 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240111121640_v2', N'8.0.0');
2025-11-04 23:25:50.362 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240111121640_v2', N'8.0.0');
2025-11-04 23:25:50.362 +06:00 [DBG] Committing transaction.
2025-11-04 23:25:50.363 +06:00 [DBG] Committed transaction.
2025-11-04 23:25:50.363 +06:00 [DBG] Disposing transaction.
2025-11-04 23:25:50.363 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:50.363 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (0ms).
2025-11-04 23:25:50.363 +06:00 [INF] Applying migration '20240112045743_reverse-v2'.
2025-11-04 23:25:50.370 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:50.370 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:50.370 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-04 23:25:50.371 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-04 23:25:50.371 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:50.371 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:50.371 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:50.371 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Users];
2025-11-04 23:25:50.374 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Users];
2025-11-04 23:25:50.375 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:50.375 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:50.375 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:50.375 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240112045743_reverse-v2', N'8.0.0');
2025-11-04 23:25:50.376 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240112045743_reverse-v2', N'8.0.0');
2025-11-04 23:25:50.784 +06:00 [DBG] Committing transaction.
2025-11-04 23:25:50.785 +06:00 [DBG] Committed transaction.
2025-11-04 23:25:50.785 +06:00 [DBG] Disposing transaction.
2025-11-04 23:25:50.785 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:50.786 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (0ms).
2025-11-04 23:25:50.786 +06:00 [INF] Applying migration '20240112050058_v3'.
2025-11-04 23:25:50.799 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:50.799 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:50.799 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-04 23:25:50.800 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-04 23:25:50.800 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:50.800 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:50.800 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:50.800 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD [UserId] int NULL;
2025-11-04 23:25:50.802 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD [UserId] int NULL;
2025-11-04 23:25:50.803 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:50.803 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:50.803 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:50.803 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] ADD [UserId] int NULL;
2025-11-04 23:25:50.804 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] ADD [UserId] int NULL;
2025-11-04 23:25:50.804 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:50.804 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:50.804 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:50.804 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [userName] nvarchar(50) NOT NULL,
    [password] nvarchar(50) NOT NULL,
    [email] nvarchar(50) NOT NULL,
    [firstName] nvarchar(50) NOT NULL,
    [lastName] nvarchar(max) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2025-11-04 23:25:50.806 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [userName] nvarchar(50) NOT NULL,
    [password] nvarchar(50) NOT NULL,
    [email] nvarchar(50) NOT NULL,
    [firstName] nvarchar(50) NOT NULL,
    [lastName] nvarchar(max) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2025-11-04 23:25:50.806 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:50.806 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:50.806 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:50.806 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_PointsOfInterest_UserId] ON [PointsOfInterest] ([UserId]);
2025-11-04 23:25:50.807 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_PointsOfInterest_UserId] ON [PointsOfInterest] ([UserId]);
2025-11-04 23:25:50.807 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:50.807 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:50.807 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:50.807 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Cities_UserId] ON [Cities] ([UserId]);
2025-11-04 23:25:50.808 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Cities_UserId] ON [Cities] ([UserId]);
2025-11-04 23:25:50.808 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:50.808 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:50.808 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:50.808 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] ADD CONSTRAINT [FK_Cities_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]);
2025-11-04 23:25:50.809 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] ADD CONSTRAINT [FK_Cities_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]);
2025-11-04 23:25:51.231 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:51.231 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:51.231 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:51.231 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD CONSTRAINT [FK_PointsOfInterest_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]);
2025-11-04 23:25:51.235 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD CONSTRAINT [FK_PointsOfInterest_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]);
2025-11-04 23:25:51.235 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:51.235 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:51.235 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:51.235 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240112050058_v3', N'8.0.0');
2025-11-04 23:25:51.236 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240112050058_v3', N'8.0.0');
2025-11-04 23:25:51.236 +06:00 [DBG] Committing transaction.
2025-11-04 23:25:51.237 +06:00 [DBG] Committed transaction.
2025-11-04 23:25:51.237 +06:00 [DBG] Disposing transaction.
2025-11-04 23:25:51.237 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:51.237 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (0ms).
2025-11-04 23:25:51.237 +06:00 [INF] Applying migration '20240116073612_v8'.
2025-11-04 23:25:51.252 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:51.253 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:51.253 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-04 23:25:51.253 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-04 23:25:51.253 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:51.253 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:51.254 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:51.254 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [FK_Cities_Users_UserId];
2025-11-04 23:25:51.255 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [FK_Cities_Users_UserId];
2025-11-04 23:25:51.256 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:51.256 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:51.256 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:51.256 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [FK_PointsOfInterest_Users_UserId];
2025-11-04 23:25:51.257 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [FK_PointsOfInterest_Users_UserId];
2025-11-04 23:25:51.257 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:51.257 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:51.257 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:51.257 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[UserId]', N'userId', N'COLUMN';
2025-11-04 23:25:51.593 +06:00 [INF] Executed DbCommand (336ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[UserId]', N'userId', N'COLUMN';
2025-11-04 23:25:51.593 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:51.593 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:51.593 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:51.593 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[IX_PointsOfInterest_UserId]', N'IX_PointsOfInterest_userId', N'INDEX';
2025-11-04 23:25:51.595 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[IX_PointsOfInterest_UserId]', N'IX_PointsOfInterest_userId', N'INDEX';
2025-11-04 23:25:51.694 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:51.694 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:51.694 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:51.694 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Cities].[UserId]', N'userId', N'COLUMN';
2025-11-04 23:25:51.696 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Cities].[UserId]', N'userId', N'COLUMN';
2025-11-04 23:25:51.696 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:51.696 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:51.696 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:51.696 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Cities].[IX_Cities_UserId]', N'IX_Cities_userId', N'INDEX';
2025-11-04 23:25:51.699 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Cities].[IX_Cities_UserId]', N'IX_Cities_userId', N'INDEX';
2025-11-04 23:25:51.700 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:51.700 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:51.700 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:51.700 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'userName');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Users] ALTER COLUMN [userName] varchar(255) NOT NULL;
2025-11-04 23:25:51.726 +06:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'userName');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Users] ALTER COLUMN [userName] varchar(255) NOT NULL;
2025-11-04 23:25:51.726 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:51.726 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:51.726 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:51.726 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'lastName');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var2 + '];');
UPDATE [Users] SET [lastName] = N'' WHERE [lastName] IS NULL;
ALTER TABLE [Users] ALTER COLUMN [lastName] nvarchar(max) NOT NULL;
ALTER TABLE [Users] ADD DEFAULT N'' FOR [lastName];
2025-11-04 23:25:51.756 +06:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'lastName');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var2 + '];');
UPDATE [Users] SET [lastName] = N'' WHERE [lastName] IS NULL;
ALTER TABLE [Users] ALTER COLUMN [lastName] nvarchar(max) NOT NULL;
ALTER TABLE [Users] ADD DEFAULT N'' FOR [lastName];
2025-11-04 23:25:51.756 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:51.756 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:51.756 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:52.040 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest];
DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[PointsOfInterest]') AND [c].[name] = N'userId');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [' + @var3 + '];');
UPDATE [PointsOfInterest] SET [userId] = 0 WHERE [userId] IS NULL;
ALTER TABLE [PointsOfInterest] ALTER COLUMN [userId] int NOT NULL;
ALTER TABLE [PointsOfInterest] ADD DEFAULT 0 FOR [userId];
CREATE INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest] ([userId]);
2025-11-04 23:25:52.075 +06:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest];
DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[PointsOfInterest]') AND [c].[name] = N'userId');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [' + @var3 + '];');
UPDATE [PointsOfInterest] SET [userId] = 0 WHERE [userId] IS NULL;
ALTER TABLE [PointsOfInterest] ALTER COLUMN [userId] int NOT NULL;
ALTER TABLE [PointsOfInterest] ADD DEFAULT 0 FOR [userId];
CREATE INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest] ([userId]);
2025-11-04 23:25:52.075 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:52.075 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:52.075 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:52.075 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[PointsOfInterest]') AND [c].[name] = N'Description');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [' + @var4 + '];');
UPDATE [PointsOfInterest] SET [Description] = N'' WHERE [Description] IS NULL;
ALTER TABLE [PointsOfInterest] ALTER COLUMN [Description] nvarchar(200) NOT NULL;
ALTER TABLE [PointsOfInterest] ADD DEFAULT N'' FOR [Description];
2025-11-04 23:25:52.097 +06:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[PointsOfInterest]') AND [c].[name] = N'Description');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [' + @var4 + '];');
UPDATE [PointsOfInterest] SET [Description] = N'' WHERE [Description] IS NULL;
ALTER TABLE [PointsOfInterest] ALTER COLUMN [Description] nvarchar(200) NOT NULL;
ALTER TABLE [PointsOfInterest] ADD DEFAULT N'' FOR [Description];
2025-11-04 23:25:52.097 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:52.097 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:52.097 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:52.097 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Cities_userId] ON [Cities];
DECLARE @var5 sysname;
SELECT @var5 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Cities]') AND [c].[name] = N'userId');
IF @var5 IS NOT NULL EXEC(N'ALTER TABLE [Cities] DROP CONSTRAINT [' + @var5 + '];');
UPDATE [Cities] SET [userId] = 0 WHERE [userId] IS NULL;
ALTER TABLE [Cities] ALTER COLUMN [userId] int NOT NULL;
ALTER TABLE [Cities] ADD DEFAULT 0 FOR [userId];
CREATE INDEX [IX_Cities_userId] ON [Cities] ([userId]);
2025-11-04 23:25:52.440 +06:00 [INF] Executed DbCommand (343ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Cities_userId] ON [Cities];
DECLARE @var5 sysname;
SELECT @var5 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Cities]') AND [c].[name] = N'userId');
IF @var5 IS NOT NULL EXEC(N'ALTER TABLE [Cities] DROP CONSTRAINT [' + @var5 + '];');
UPDATE [Cities] SET [userId] = 0 WHERE [userId] IS NULL;
ALTER TABLE [Cities] ALTER COLUMN [userId] int NOT NULL;
ALTER TABLE [Cities] ADD DEFAULT 0 FOR [userId];
CREATE INDEX [IX_Cities_userId] ON [Cities] ([userId]);
2025-11-04 23:25:52.440 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:52.440 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:52.440 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:52.440 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var6 sysname;
SELECT @var6 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Cities]') AND [c].[name] = N'Description');
IF @var6 IS NOT NULL EXEC(N'ALTER TABLE [Cities] DROP CONSTRAINT [' + @var6 + '];');
UPDATE [Cities] SET [Description] = N'' WHERE [Description] IS NULL;
ALTER TABLE [Cities] ALTER COLUMN [Description] nvarchar(200) NOT NULL;
ALTER TABLE [Cities] ADD DEFAULT N'' FOR [Description];
2025-11-04 23:25:52.471 +06:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var6 sysname;
SELECT @var6 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Cities]') AND [c].[name] = N'Description');
IF @var6 IS NOT NULL EXEC(N'ALTER TABLE [Cities] DROP CONSTRAINT [' + @var6 + '];');
UPDATE [Cities] SET [Description] = N'' WHERE [Description] IS NULL;
ALTER TABLE [Cities] ALTER COLUMN [Description] nvarchar(200) NOT NULL;
ALTER TABLE [Cities] ADD DEFAULT N'' FOR [Description];
2025-11-04 23:25:52.471 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:52.471 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:52.472 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:52.472 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] ADD CONSTRAINT [FK_Cities_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2025-11-04 23:25:52.474 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] ADD CONSTRAINT [FK_Cities_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2025-11-04 23:25:52.474 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:52.474 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:52.474 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:52.474 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD CONSTRAINT [FK_PointsOfInterest_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION;
2025-11-04 23:25:52.476 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD CONSTRAINT [FK_PointsOfInterest_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION;
2025-11-04 23:25:52.476 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:52.476 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:52.476 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:52.476 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240116073612_v8', N'8.0.0');
2025-11-04 23:25:52.822 +06:00 [INF] Executed DbCommand (346ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240116073612_v8', N'8.0.0');
2025-11-04 23:25:52.822 +06:00 [DBG] Committing transaction.
2025-11-04 23:25:52.823 +06:00 [DBG] Committed transaction.
2025-11-04 23:25:52.823 +06:00 [DBG] Disposing transaction.
2025-11-04 23:25:52.823 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:52.823 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (0ms).
2025-11-04 23:25:52.823 +06:00 [INF] Applying migration '20240116074314_v9'.
2025-11-04 23:25:52.829 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:52.829 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:52.829 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-04 23:25:52.829 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-04 23:25:52.829 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:52.829 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:52.830 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:52.830 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN userName VARCHAR(255) COLLATE SQL_Latin1_General_CP1_CS_AS
2025-11-04 23:25:52.834 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN userName VARCHAR(255) COLLATE SQL_Latin1_General_CP1_CS_AS
2025-11-04 23:25:52.834 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:52.834 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:52.834 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:52.834 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240116074314_v9', N'8.0.0');
2025-11-04 23:25:52.836 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240116074314_v9', N'8.0.0');
2025-11-04 23:25:52.836 +06:00 [DBG] Committing transaction.
2025-11-04 23:25:52.837 +06:00 [DBG] Committed transaction.
2025-11-04 23:25:52.837 +06:00 [DBG] Disposing transaction.
2025-11-04 23:25:52.837 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:52.837 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (0ms).
2025-11-04 23:25:52.837 +06:00 [INF] Applying migration '20240116083554_v10'.
2025-11-04 23:25:52.841 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:52.841 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:52.841 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-04 23:25:52.842 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-04 23:25:52.842 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:52.842 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:52.842 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:52.842 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN  password VARCHAR(50) COLLATE SQL_Latin1_General_CP1_CS_AS
2025-11-04 23:25:52.846 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN  password VARCHAR(50) COLLATE SQL_Latin1_General_CP1_CS_AS
2025-11-04 23:25:52.846 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:52.846 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:52.846 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:52.846 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240116083554_v10', N'8.0.0');
2025-11-04 23:25:52.847 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240116083554_v10', N'8.0.0');
2025-11-04 23:25:52.847 +06:00 [DBG] Committing transaction.
2025-11-04 23:25:52.851 +06:00 [DBG] Committed transaction.
2025-11-04 23:25:52.851 +06:00 [DBG] Disposing transaction.
2025-11-04 23:25:52.851 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:53.369 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (517ms).
2025-11-04 23:25:53.369 +06:00 [INF] Applying migration '20240118083541_token_user_added'.
2025-11-04 23:25:53.374 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:53.374 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:53.374 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-04 23:25:53.375 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-04 23:25:53.375 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:53.375 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:53.375 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:53.375 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Users] ADD [token] nvarchar(max) NOT NULL DEFAULT N'';
2025-11-04 23:25:53.377 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Users] ADD [token] nvarchar(max) NOT NULL DEFAULT N'';
2025-11-04 23:25:53.377 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:53.377 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:53.377 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:53.377 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN  password VARCHAR(50) COLLATE SQL_Latin1_General_CP1_CS_AS
2025-11-04 23:25:53.379 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN  password VARCHAR(50) COLLATE SQL_Latin1_General_CP1_CS_AS
2025-11-04 23:25:53.379 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:53.379 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:53.379 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:53.379 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240118083541_token_user_added', N'8.0.0');
2025-11-04 23:25:53.379 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240118083541_token_user_added', N'8.0.0');
2025-11-04 23:25:53.379 +06:00 [DBG] Committing transaction.
2025-11-04 23:25:53.380 +06:00 [DBG] Committed transaction.
2025-11-04 23:25:53.380 +06:00 [DBG] Disposing transaction.
2025-11-04 23:25:53.380 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:53.380 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (0ms).
2025-11-04 23:25:53.380 +06:00 [INF] Applying migration '20240118083809_email_cs_added'.
2025-11-04 23:25:53.387 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:53.387 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:53.387 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-04 23:25:53.388 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-04 23:25:53.388 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:53.388 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:53.388 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:53.388 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN  email VARCHAR(255) COLLATE SQL_Latin1_General_CP1_CS_AS
2025-11-04 23:25:53.391 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN  email VARCHAR(255) COLLATE SQL_Latin1_General_CP1_CS_AS
2025-11-04 23:25:53.391 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:25:53.391 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:53.391 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:25:53.391 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN  token VARCHAR(255) COLLATE SQL_Latin1_General_CP1_CS_AS
2025-11-04 23:25:53.397 +06:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN  token VARCHAR(255) COLLATE SQL_Latin1_General_CP1_CS_AS
2025-11-04 23:25:53.397 +06:00 [DBG] Disposing transaction.
2025-11-04 23:25:53.397 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:53.397 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (0ms).
2025-11-04 23:25:53.892 +06:00 [DBG] 'CityInfoContext' disposed.
2025-11-04 23:25:53.894 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:25:53.895 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-04 23:29:26.999 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-04 23:29:27.130 +06:00 [DBG] Hosting starting
2025-11-04 23:29:27.160 +06:00 [INF] User profile is available. Using 'C:\Users\smriad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-04 23:29:27.195 +06:00 [DBG] Reading data from file 'C:\Users\smriad\AppData\Local\ASP.NET\DataProtection-Keys\key-1818f3f5-7bdd-4648-bb32-28b47dfaa762.xml'.
2025-11-04 23:29:27.236 +06:00 [DBG] Reading data from file 'C:\Users\smriad\AppData\Local\ASP.NET\DataProtection-Keys\key-5d61769b-4ede-4b43-8e40-62f52be3088d.xml'.
2025-11-04 23:29:27.264 +06:00 [DBG] Reading data from file 'C:\Users\smriad\AppData\Local\ASP.NET\DataProtection-Keys\key-d35e7b7f-1dbb-4d32-ae68-2df697aedf39.xml'.
2025-11-04 23:29:27.295 +06:00 [DBG] Found key {1818f3f5-7bdd-4648-bb32-28b47dfaa762}.
2025-11-04 23:29:27.301 +06:00 [DBG] Found key {5d61769b-4ede-4b43-8e40-62f52be3088d}.
2025-11-04 23:29:27.303 +06:00 [DBG] Found key {d35e7b7f-1dbb-4d32-ae68-2df697aedf39}.
2025-11-04 23:29:27.310 +06:00 [DBG] Considering key {d35e7b7f-1dbb-4d32-ae68-2df697aedf39} with expiration date 2025-11-09 08:11:23Z as default key.
2025-11-04 23:29:27.315 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-04 23:29:27.318 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-11-04 23:29:27.323 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-04 23:29:27.330 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-11-04 23:29:27.333 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-11-04 23:29:27.335 +06:00 [DBG] Using key {d35e7b7f-1dbb-4d32-ae68-2df697aedf39} as the default key.
2025-11-04 23:29:27.337 +06:00 [DBG] Key ring with default key {d35e7b7f-1dbb-4d32-ae68-2df697aedf39} was loaded during application startup.
2025-11-04 23:29:27.343 +06:00 [DBG] Middleware loaded
2025-11-04 23:29:27.346 +06:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16509 B).
2025-11-04 23:29:27.348 +06:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-11-04 23:29:27.452 +06:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-11-04 23:29:27.558 +06:00 [INF] Now listening on: https://localhost:7156
2025-11-04 23:29:27.559 +06:00 [INF] Now listening on: http://localhost:5062
2025-11-04 23:29:27.562 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-11-04 23:29:27.563 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-04 23:29:27.564 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-11-04 23:29:27.565 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-04 23:29:27.614 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-04 23:29:27.616 +06:00 [INF] Hosting environment: Development
2025-11-04 23:29:27.617 +06:00 [INF] Content root path: D:\GitHub\CityInfo\CityInfo.API\CityInfo.API
2025-11-04 23:29:27.618 +06:00 [DBG] Hosting started
2025-11-04 23:29:31.873 +06:00 [DBG] Connection id "0HNGROURINB5D" accepted.
2025-11-04 23:29:31.875 +06:00 [DBG] Connection id "0HNGROURINB5D" started.
2025-11-04 23:29:31.928 +06:00 [DBG] Connection 0HNGROURINB5D established using the following protocol: "Tls13"
2025-11-04 23:29:31.987 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/register - null null
2025-11-04 23:29:31.997 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-04 23:29:32.003 +06:00 [DBG] OPTIONS requests are not supported
2025-11-04 23:29:32.007 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:29:32.009 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:29:32.011 +06:00 [DBG] The request is a preflight request.
2025-11-04 23:29:32.015 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/register - 204 null null 30.8301ms
2025-11-04 23:29:32.021 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json 116
2025-11-04 23:29:32.028 +06:00 [DBG] POST requests are not supported
2025-11-04 23:29:32.033 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:29:32.038 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:29:32.062 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2025-11-04 23:29:32.070 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2025-11-04 23:29:32.073 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:29:33.210 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:29:33.212 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:29:33.225 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2025-11-04 23:29:33.228 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-04 23:29:33.229 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-04 23:29:33.229 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-04 23:29:33.231 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-04 23:29:33.232 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-04 23:29:33.233 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2025-11-04 23:29:33.359 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-11-04 23:29:33.453 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2025-11-04 23:29:33.464 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2025-11-04 23:29:33.468 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2025-11-04 23:29:33.471 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-11-04 23:29:33.475 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-11-04 23:29:33.484 +06:00 [DBG] Connection id "0HNGROURINB5D", Request id "0HNGROURINB5D:00000003": started reading request body.
2025-11-04 23:29:33.490 +06:00 [DBG] Connection id "0HNGROURINB5D", Request id "0HNGROURINB5D:00000003": done reading request body.
2025-11-04 23:29:33.565 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:29:33.576 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:29:33.580 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2025-11-04 23:29:33.591 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:29:34.047 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-11-04 23:29:34.114 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.userName == __userName_0)'
2025-11-04 23:29:34.198 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.userName == @__userName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-04 23:29:34.225 +06:00 [DBG] Creating DbConnection.
2025-11-04 23:29:34.238 +06:00 [DBG] Created DbConnection. (11ms).
2025-11-04 23:29:34.246 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:29:34.551 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:29:34.556 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:29:34.562 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-11-04 23:29:34.567 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-11-04 23:29:34.573 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:29:34.803 +06:00 [INF] Executed DbCommand (223ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:29:34.833 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:29:34.843 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 25ms reading results.
2025-11-04 23:29:34.851 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:29:34.866 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (14ms).
2025-11-04 23:29:34.879 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.email == __email_0)'
2025-11-04 23:29:34.889 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.email == @__email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-04 23:29:34.892 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:29:34.896 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:29:34.902 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:29:34.905 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-11-04 23:29:34.910 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-11-04 23:29:34.919 +06:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:29:34.929 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:29:34.937 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:29:34.943 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 5ms reading results.
2025-11-04 23:29:34.948 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:29:34.953 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (5ms).
2025-11-04 23:29:34.990 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-11-04 23:29:35.000 +06:00 [DBG] No information found on request to perform content negotiation.
2025-11-04 23:29:35.002 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-04 23:29:35.003 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-04 23:29:35.006 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-04 23:29:35.010 +06:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-04 23:29:35.041 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API) in 1806.616ms
2025-11-04 23:29:35.043 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:29:35.054 +06:00 [DBG] 'CityInfoContext' disposed.
2025-11-04 23:29:35.068 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:29:35.087 +06:00 [DBG] Disposed connection to database '' on server '' (20ms).
2025-11-04 23:29:35.090 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/register - 400 130 application/json; charset=utf-8 3069.4259ms
2025-11-04 23:29:53.092 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/register - null null
2025-11-04 23:29:53.107 +06:00 [DBG] OPTIONS requests are not supported
2025-11-04 23:29:53.114 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:29:53.121 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:29:53.127 +06:00 [DBG] The request is a preflight request.
2025-11-04 23:29:53.130 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/register - 204 null null 38.4994ms
2025-11-04 23:29:53.135 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json 119
2025-11-04 23:29:53.157 +06:00 [DBG] POST requests are not supported
2025-11-04 23:29:53.163 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:29:53.167 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:29:53.177 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2025-11-04 23:29:53.184 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2025-11-04 23:29:53.195 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:29:53.202 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:29:53.206 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:29:53.210 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2025-11-04 23:29:53.217 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-04 23:29:53.219 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-04 23:29:53.221 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-04 23:29:53.223 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-04 23:29:53.225 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-04 23:29:53.227 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2025-11-04 23:29:53.230 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2025-11-04 23:29:53.232 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2025-11-04 23:29:53.234 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2025-11-04 23:29:53.235 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-11-04 23:29:53.237 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-11-04 23:29:53.239 +06:00 [DBG] Connection id "0HNGROURINB5D", Request id "0HNGROURINB5D:00000007": started reading request body.
2025-11-04 23:29:53.245 +06:00 [DBG] Connection id "0HNGROURINB5D", Request id "0HNGROURINB5D:00000007": done reading request body.
2025-11-04 23:29:53.247 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:29:53.252 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:29:53.255 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2025-11-04 23:29:53.261 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:29:53.287 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-11-04 23:29:53.297 +06:00 [DBG] Creating DbConnection.
2025-11-04 23:29:53.298 +06:00 [DBG] Created DbConnection. (1ms).
2025-11-04 23:29:53.300 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:29:53.301 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:29:53.303 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:29:53.304 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-04 23:29:53.305 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-04 23:29:53.307 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:29:53.316 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:29:53.323 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:29:53.326 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 3ms reading results.
2025-11-04 23:29:53.329 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:29:53.331 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (1ms).
2025-11-04 23:29:53.339 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:29:53.342 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:29:53.344 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:29:53.346 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-04 23:29:53.347 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-11-04 23:29:53.351 +06:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:29:53.358 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:29:53.362 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:29:53.364 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 1ms reading results.
2025-11-04 23:29:53.368 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:29:53.370 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (2ms).
2025-11-04 23:29:53.373 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-11-04 23:29:53.376 +06:00 [DBG] No information found on request to perform content negotiation.
2025-11-04 23:29:53.377 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-04 23:29:53.379 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-04 23:29:53.379 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-04 23:29:53.382 +06:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-04 23:29:53.385 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API) in 158.5899ms
2025-11-04 23:29:53.388 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:29:53.390 +06:00 [DBG] 'CityInfoContext' disposed.
2025-11-04 23:29:53.393 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:29:53.397 +06:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-11-04 23:29:53.401 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/register - 400 49 application/json; charset=utf-8 266.896ms
2025-11-04 23:30:13.036 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/register - null null
2025-11-04 23:30:13.053 +06:00 [DBG] OPTIONS requests are not supported
2025-11-04 23:30:13.060 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:30:13.066 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:30:13.074 +06:00 [DBG] The request is a preflight request.
2025-11-04 23:30:13.082 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/register - 204 null null 46.9383ms
2025-11-04 23:30:13.102 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json 118
2025-11-04 23:30:13.119 +06:00 [DBG] POST requests are not supported
2025-11-04 23:30:13.126 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:30:13.133 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:30:13.139 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2025-11-04 23:30:13.146 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2025-11-04 23:30:13.152 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:30:13.163 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:30:13.168 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:30:13.176 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2025-11-04 23:30:13.183 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-04 23:30:13.187 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-04 23:30:13.193 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-04 23:30:13.195 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-04 23:30:13.196 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-04 23:30:13.199 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2025-11-04 23:30:13.207 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2025-11-04 23:30:13.210 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2025-11-04 23:30:13.212 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2025-11-04 23:30:13.215 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-11-04 23:30:13.219 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-11-04 23:30:13.224 +06:00 [DBG] Connection id "0HNGROURINB5D", Request id "0HNGROURINB5D:0000000B": started reading request body.
2025-11-04 23:30:13.228 +06:00 [DBG] Connection id "0HNGROURINB5D", Request id "0HNGROURINB5D:0000000B": done reading request body.
2025-11-04 23:30:13.229 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:30:13.233 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:30:13.239 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2025-11-04 23:30:13.244 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:30:13.361 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-11-04 23:30:13.366 +06:00 [DBG] Creating DbConnection.
2025-11-04 23:30:13.368 +06:00 [DBG] Created DbConnection. (1ms).
2025-11-04 23:30:13.371 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:13.374 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:13.380 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:30:13.382 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-11-04 23:30:13.386 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-11-04 23:30:13.389 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:30:13.397 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:30:13.398 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:13.399 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 0ms reading results.
2025-11-04 23:30:13.400 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:13.401 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (0ms).
2025-11-04 23:30:13.403 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:13.405 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:13.407 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:30:13.409 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-04 23:30:13.410 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-11-04 23:30:13.413 +06:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:30:13.422 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:30:13.429 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:13.431 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 1ms reading results.
2025-11-04 23:30:13.435 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:13.439 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (4ms).
2025-11-04 23:30:13.445 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-11-04 23:30:13.454 +06:00 [DBG] No information found on request to perform content negotiation.
2025-11-04 23:30:13.456 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-04 23:30:13.458 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-04 23:30:13.463 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-04 23:30:13.467 +06:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-04 23:30:13.471 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API) in 271.6398ms
2025-11-04 23:30:13.476 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:30:13.478 +06:00 [DBG] 'CityInfoContext' disposed.
2025-11-04 23:30:13.483 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:13.487 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-11-04 23:30:13.490 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/register - 400 53 application/json; charset=utf-8 394.6326ms
2025-11-04 23:30:22.503 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/register - null null
2025-11-04 23:30:22.518 +06:00 [DBG] OPTIONS requests are not supported
2025-11-04 23:30:22.525 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:30:22.530 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:30:22.535 +06:00 [DBG] The request is a preflight request.
2025-11-04 23:30:22.541 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/register - 204 null null 38.0049ms
2025-11-04 23:30:22.545 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json 121
2025-11-04 23:30:22.565 +06:00 [DBG] POST requests are not supported
2025-11-04 23:30:22.569 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:30:22.575 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:30:22.578 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2025-11-04 23:30:22.581 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2025-11-04 23:30:22.588 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:30:22.593 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:30:22.595 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:30:22.597 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2025-11-04 23:30:22.604 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-04 23:30:22.610 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-04 23:30:22.614 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-04 23:30:22.618 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-04 23:30:22.620 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-04 23:30:22.624 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2025-11-04 23:30:22.628 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2025-11-04 23:30:22.632 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2025-11-04 23:30:22.635 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2025-11-04 23:30:22.640 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-11-04 23:30:22.642 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-11-04 23:30:22.645 +06:00 [DBG] Connection id "0HNGROURINB5D", Request id "0HNGROURINB5D:0000000F": started reading request body.
2025-11-04 23:30:22.650 +06:00 [DBG] Connection id "0HNGROURINB5D", Request id "0HNGROURINB5D:0000000F": done reading request body.
2025-11-04 23:30:22.653 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:30:22.656 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:30:22.661 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2025-11-04 23:30:22.662 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:30:22.665 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-11-04 23:30:22.667 +06:00 [DBG] Creating DbConnection.
2025-11-04 23:30:22.671 +06:00 [DBG] Created DbConnection. (3ms).
2025-11-04 23:30:22.673 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:22.678 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:22.681 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:30:22.684 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-11-04 23:30:22.686 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-11-04 23:30:22.688 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:30:22.695 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:30:22.700 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:22.702 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 2ms reading results.
2025-11-04 23:30:22.705 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:22.708 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (2ms).
2025-11-04 23:30:22.711 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:22.713 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:22.715 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:30:22.717 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-04 23:30:22.719 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-11-04 23:30:22.721 +06:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:30:22.726 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:30:22.731 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:22.734 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 2ms reading results.
2025-11-04 23:30:22.736 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:22.737 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (1ms).
2025-11-04 23:30:22.860 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:30:22.951 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:30:22.962 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2025-11-04 23:30:22.967 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2025-11-04 23:30:22.984 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2025-11-04 23:30:23.078 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:23.079 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:23.084 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:30:23.086 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-04 23:30:23.088 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-11-04 23:30:23.089 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 4000), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([admin], [email], [firstName], [lastName], [password], [token], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-04 23:30:23.108 +06:00 [ERR] Failed executing DbCommand (17ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 4000), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([admin], [email], [firstName], [lastName], [password], [token], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-04 23:30:23.118 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:23.121 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (2ms).
2025-11-04 23:30:23.162 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'admin'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7569c8da-2ed6-4022-91a9-041a3e88aa89
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'admin'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7569c8da-2ed6-4022-91a9-041a3e88aa89
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-04 23:30:23.247 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API) in 622.6388ms
2025-11-04 23:30:23.250 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:30:23.256 +06:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'admin'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7569c8da-2ed6-4022-91a9-041a3e88aa89
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.SaveChangesAsync() in D:\GitHub\CityInfo\CityInfo.API\CityInfo.API\Services\CityInfoRepository.cs:line 135
   at CityInfo.API.Controllers.UsersController.RegisterUser(UserForCreationDto userObj) in D:\GitHub\CityInfo\CityInfo.API\CityInfo.API\Controllers\UsersController.cs:line 98
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-11-04 23:30:23.346 +06:00 [DBG] 'CityInfoContext' disposed.
2025-11-04 23:30:23.350 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:23.351 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-04 23:30:23.355 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/register - 500 null text/plain; charset=utf-8 810.5004ms
2025-11-04 23:30:27.279 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json 121
2025-11-04 23:30:27.301 +06:00 [DBG] POST requests are not supported
2025-11-04 23:30:27.310 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:30:27.317 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:30:27.325 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2025-11-04 23:30:27.332 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2025-11-04 23:30:27.342 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:30:27.350 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:30:27.359 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:30:27.365 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2025-11-04 23:30:27.379 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-04 23:30:27.383 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-04 23:30:27.395 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-04 23:30:27.399 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-04 23:30:27.404 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-04 23:30:27.407 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2025-11-04 23:30:27.413 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2025-11-04 23:30:27.417 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2025-11-04 23:30:27.420 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2025-11-04 23:30:27.425 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-11-04 23:30:27.429 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-11-04 23:30:27.436 +06:00 [DBG] Connection id "0HNGROURINB5D", Request id "0HNGROURINB5D:00000011": started reading request body.
2025-11-04 23:30:27.438 +06:00 [DBG] Connection id "0HNGROURINB5D", Request id "0HNGROURINB5D:00000011": done reading request body.
2025-11-04 23:30:27.441 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:30:27.444 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:30:27.450 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2025-11-04 23:30:27.457 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:30:27.463 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-11-04 23:30:27.471 +06:00 [DBG] Creating DbConnection.
2025-11-04 23:30:27.474 +06:00 [DBG] Created DbConnection. (2ms).
2025-11-04 23:30:27.478 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:27.481 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:27.486 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:30:27.489 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-11-04 23:30:27.494 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-11-04 23:30:27.497 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:30:27.508 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:30:27.517 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:27.524 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 7ms reading results.
2025-11-04 23:30:27.534 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:27.543 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (9ms).
2025-11-04 23:30:27.547 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:27.550 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:27.559 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:30:27.562 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-11-04 23:30:27.567 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-11-04 23:30:27.571 +06:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:30:27.580 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:30:27.591 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:27.596 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 4ms reading results.
2025-11-04 23:30:27.604 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:27.609 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (4ms).
2025-11-04 23:30:27.625 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:30:27.629 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:30:27.636 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2025-11-04 23:30:27.637 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2025-11-04 23:30:27.639 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2025-11-04 23:30:27.641 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:27.643 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:27.645 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:30:27.646 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-04 23:30:27.647 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-11-04 23:30:27.651 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 4000), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([admin], [email], [firstName], [lastName], [password], [token], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-04 23:30:27.657 +06:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 4000), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([admin], [email], [firstName], [lastName], [password], [token], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-04 23:30:27.667 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:27.670 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (2ms).
2025-11-04 23:30:27.675 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'admin'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7569c8da-2ed6-4022-91a9-041a3e88aa89
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'admin'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7569c8da-2ed6-4022-91a9-041a3e88aa89
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-04 23:30:27.794 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API) in 386.2233ms
2025-11-04 23:30:27.799 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:30:27.801 +06:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'admin'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7569c8da-2ed6-4022-91a9-041a3e88aa89
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.SaveChangesAsync() in D:\GitHub\CityInfo\CityInfo.API\CityInfo.API\Services\CityInfoRepository.cs:line 135
   at CityInfo.API.Controllers.UsersController.RegisterUser(UserForCreationDto userObj) in D:\GitHub\CityInfo\CityInfo.API\CityInfo.API\Controllers\UsersController.cs:line 98
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-11-04 23:30:27.876 +06:00 [DBG] 'CityInfoContext' disposed.
2025-11-04 23:30:27.897 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:30:27.898 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-04 23:30:27.899 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/register - 500 null text/plain; charset=utf-8 619.6498ms
2025-11-04 23:32:33.830 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/register - null null
2025-11-04 23:32:33.843 +06:00 [DBG] OPTIONS requests are not supported
2025-11-04 23:32:33.845 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:32:33.849 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:32:33.850 +06:00 [DBG] The request is a preflight request.
2025-11-04 23:32:33.852 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/register - 204 null null 25.599ms
2025-11-04 23:32:33.862 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json 121
2025-11-04 23:32:33.893 +06:00 [DBG] POST requests are not supported
2025-11-04 23:32:33.898 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:32:33.905 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:32:33.910 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2025-11-04 23:32:33.915 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2025-11-04 23:32:33.923 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:32:33.927 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:32:33.931 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:32:33.934 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2025-11-04 23:32:33.942 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-04 23:32:33.948 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-04 23:32:33.953 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-04 23:32:33.962 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-04 23:32:33.967 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-04 23:32:33.970 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2025-11-04 23:32:33.974 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2025-11-04 23:32:33.978 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2025-11-04 23:32:33.984 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2025-11-04 23:32:33.988 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-11-04 23:32:33.990 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-11-04 23:32:33.994 +06:00 [DBG] Connection id "0HNGROURINB5D", Request id "0HNGROURINB5D:00000015": started reading request body.
2025-11-04 23:32:33.998 +06:00 [DBG] Connection id "0HNGROURINB5D", Request id "0HNGROURINB5D:00000015": done reading request body.
2025-11-04 23:32:34.001 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:32:34.006 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:32:34.008 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2025-11-04 23:32:34.014 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:32:37.133 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-11-04 23:32:37.140 +06:00 [DBG] Creating DbConnection.
2025-11-04 23:32:37.144 +06:00 [DBG] Created DbConnection. (4ms).
2025-11-04 23:32:37.148 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:32:37.161 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:32:37.166 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:32:37.169 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-11-04 23:32:37.172 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-11-04 23:32:37.181 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:32:37.230 +06:00 [INF] Executed DbCommand (49ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:32:37.233 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:32:37.234 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 1ms reading results.
2025-11-04 23:32:37.235 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:32:37.237 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (1ms).
2025-11-04 23:32:45.589 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:32:45.596 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:32:45.606 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:32:45.616 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-11-04 23:32:45.624 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2025-11-04 23:32:45.633 +06:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:32:45.664 +06:00 [INF] Executed DbCommand (31ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:32:45.695 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:32:45.698 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 3ms reading results.
2025-11-04 23:32:45.705 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:32:45.708 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (3ms).
2025-11-04 23:34:48.205 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:34:48.226 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:35:00.855 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2025-11-04 23:35:00.860 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2025-11-04 23:35:00.870 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2025-11-04 23:35:00.878 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:35:00.885 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:35:00.886 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:35:00.890 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-11-04 23:35:00.896 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-11-04 23:35:00.897 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 4000), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([admin], [email], [firstName], [lastName], [password], [token], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-04 23:35:00.933 +06:00 [ERR] Failed executing DbCommand (36ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 4000), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([admin], [email], [firstName], [lastName], [password], [token], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-04 23:35:00.938 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:35:00.941 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (3ms).
2025-11-04 23:35:00.946 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'admin'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7569c8da-2ed6-4022-91a9-041a3e88aa89
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'admin'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7569c8da-2ed6-4022-91a9-041a3e88aa89
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-04 23:35:01.066 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API) in 147095.8906ms
2025-11-04 23:35:01.070 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:35:01.072 +06:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'admin'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7569c8da-2ed6-4022-91a9-041a3e88aa89
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.SaveChangesAsync() in D:\GitHub\CityInfo\CityInfo.API\CityInfo.API\Services\CityInfoRepository.cs:line 135
   at CityInfo.API.Controllers.UsersController.RegisterUser(UserForCreationDto userObj) in D:\GitHub\CityInfo\CityInfo.API\CityInfo.API\Controllers\UsersController.cs:line 98
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-11-04 23:35:01.120 +06:00 [DBG] 'CityInfoContext' disposed.
2025-11-04 23:35:01.123 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:35:01.124 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-04 23:35:01.126 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/register - 500 null text/plain; charset=utf-8 147265.1382ms
2025-11-04 23:35:01.188 +06:00 [DBG] Connection id "0HNGROURINB5D" received FIN.
2025-11-04 23:35:01.231 +06:00 [DBG] Connection id "0HNGROURINB5D" is closed. The last processed stream ID was 21.
2025-11-04 23:35:01.239 +06:00 [DBG] Connection id "0HNGROURINB5D" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-04 23:35:01.244 +06:00 [DBG] The connection queue processing loop for 0HNGROURINB5D completed.
2025-11-04 23:35:01.252 +06:00 [DBG] Connection id "0HNGROURINB5D" stopped.
2025-11-04 23:36:56.222 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-04 23:36:56.396 +06:00 [DBG] Hosting starting
2025-11-04 23:36:56.408 +06:00 [INF] User profile is available. Using 'C:\Users\smriad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-04 23:36:56.421 +06:00 [DBG] Reading data from file 'C:\Users\smriad\AppData\Local\ASP.NET\DataProtection-Keys\key-1818f3f5-7bdd-4648-bb32-28b47dfaa762.xml'.
2025-11-04 23:36:56.466 +06:00 [DBG] Reading data from file 'C:\Users\smriad\AppData\Local\ASP.NET\DataProtection-Keys\key-5d61769b-4ede-4b43-8e40-62f52be3088d.xml'.
2025-11-04 23:36:56.508 +06:00 [DBG] Reading data from file 'C:\Users\smriad\AppData\Local\ASP.NET\DataProtection-Keys\key-d35e7b7f-1dbb-4d32-ae68-2df697aedf39.xml'.
2025-11-04 23:36:56.558 +06:00 [DBG] Found key {1818f3f5-7bdd-4648-bb32-28b47dfaa762}.
2025-11-04 23:36:56.572 +06:00 [DBG] Found key {5d61769b-4ede-4b43-8e40-62f52be3088d}.
2025-11-04 23:36:56.575 +06:00 [DBG] Found key {d35e7b7f-1dbb-4d32-ae68-2df697aedf39}.
2025-11-04 23:36:56.585 +06:00 [DBG] Considering key {d35e7b7f-1dbb-4d32-ae68-2df697aedf39} with expiration date 2025-11-09 08:11:23Z as default key.
2025-11-04 23:36:56.592 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-04 23:36:56.597 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-11-04 23:36:56.602 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-04 23:36:56.615 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-11-04 23:36:56.654 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-11-04 23:36:56.659 +06:00 [DBG] Using key {d35e7b7f-1dbb-4d32-ae68-2df697aedf39} as the default key.
2025-11-04 23:36:56.663 +06:00 [DBG] Key ring with default key {d35e7b7f-1dbb-4d32-ae68-2df697aedf39} was loaded during application startup.
2025-11-04 23:36:56.671 +06:00 [DBG] Middleware loaded
2025-11-04 23:36:56.674 +06:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16509 B).
2025-11-04 23:36:56.686 +06:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-11-04 23:36:56.782 +06:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-11-04 23:36:56.922 +06:00 [INF] Now listening on: https://localhost:7156
2025-11-04 23:36:56.924 +06:00 [INF] Now listening on: http://localhost:5062
2025-11-04 23:36:56.926 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-11-04 23:36:56.927 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-04 23:36:56.928 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-11-04 23:36:56.929 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-04 23:36:56.965 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-04 23:36:56.967 +06:00 [INF] Hosting environment: Development
2025-11-04 23:36:56.968 +06:00 [INF] Content root path: D:\GitHub\CityInfo\CityInfo.API\CityInfo.API
2025-11-04 23:36:56.970 +06:00 [DBG] Hosting started
2025-11-04 23:36:59.029 +06:00 [DBG] Connection id "0HNGRP30R4I8I" accepted.
2025-11-04 23:36:59.042 +06:00 [DBG] Connection id "0HNGRP30R4I8I" started.
2025-11-04 23:36:59.140 +06:00 [DBG] Connection 0HNGRP30R4I8I established using the following protocol: "Tls13"
2025-11-04 23:36:59.208 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/register - null null
2025-11-04 23:36:59.220 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-04 23:36:59.232 +06:00 [DBG] OPTIONS requests are not supported
2025-11-04 23:36:59.234 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:36:59.237 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:36:59.239 +06:00 [DBG] The request is a preflight request.
2025-11-04 23:36:59.244 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/register - 204 null null 44.4754ms
2025-11-04 23:36:59.254 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json 121
2025-11-04 23:36:59.262 +06:00 [DBG] POST requests are not supported
2025-11-04 23:36:59.267 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:36:59.271 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:36:59.305 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2025-11-04 23:36:59.314 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2025-11-04 23:36:59.319 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:37:00.409 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:37:00.435 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:37:00.476 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2025-11-04 23:37:00.483 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-04 23:37:00.489 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-04 23:37:00.491 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-04 23:37:00.494 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-04 23:37:00.497 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-04 23:37:00.502 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2025-11-04 23:37:00.935 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-11-04 23:37:01.151 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2025-11-04 23:37:01.158 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2025-11-04 23:37:01.165 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2025-11-04 23:37:01.169 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-11-04 23:37:01.172 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-11-04 23:37:01.182 +06:00 [DBG] Connection id "0HNGRP30R4I8I", Request id "0HNGRP30R4I8I:00000003": started reading request body.
2025-11-04 23:37:01.184 +06:00 [DBG] Connection id "0HNGRP30R4I8I", Request id "0HNGRP30R4I8I:00000003": done reading request body.
2025-11-04 23:37:01.297 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:37:01.300 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:37:01.310 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2025-11-04 23:37:01.321 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:37:02.312 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-11-04 23:37:02.819 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.userName == __userName_0)'
2025-11-04 23:37:03.059 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.userName == @__userName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-04 23:37:03.136 +06:00 [DBG] Creating DbConnection.
2025-11-04 23:37:03.165 +06:00 [DBG] Created DbConnection. (26ms).
2025-11-04 23:37:03.177 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:37:04.360 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:37:04.369 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:37:04.382 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-11-04 23:37:04.401 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (32ms).
2025-11-04 23:37:04.421 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:37:04.646 +06:00 [INF] Executed DbCommand (228ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:37:04.701 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:37:04.721 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 63ms reading results.
2025-11-04 23:37:04.733 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:37:04.743 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (10ms).
2025-11-04 23:37:04.749 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.email == __email_0)'
2025-11-04 23:37:04.759 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.email == @__email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-04 23:37:04.790 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:37:04.803 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:37:04.805 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:37:04.809 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-11-04 23:37:04.810 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-11-04 23:37:04.812 +06:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:37:04.846 +06:00 [INF] Executed DbCommand (34ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:37:04.862 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:37:04.863 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 1ms reading results.
2025-11-04 23:37:04.864 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:37:04.865 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (1ms).
2025-11-04 23:37:10.182 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:37:10.289 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:37:10.300 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2025-11-04 23:37:10.312 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2025-11-04 23:37:10.334 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2025-11-04 23:37:10.449 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:37:10.452 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:37:10.462 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:37:10.464 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-04 23:37:10.467 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-11-04 23:37:10.472 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 4000), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([admin], [email], [firstName], [lastName], [password], [token], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-04 23:37:10.488 +06:00 [ERR] Failed executing DbCommand (15ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 4000), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([admin], [email], [firstName], [lastName], [password], [token], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-04 23:37:10.496 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:37:10.499 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (2ms).
2025-11-04 23:37:10.548 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'admin'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:abe51b9a-8327-478c-a01d-8b5777ba2a1f
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'admin'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:abe51b9a-8327-478c-a01d-8b5777ba2a1f
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-04 23:37:45.146 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-11-04 23:37:45.152 +06:00 [DBG] No information found on request to perform content negotiation.
2025-11-04 23:37:45.154 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-04 23:37:45.156 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-04 23:37:45.161 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-04 23:37:45.165 +06:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-04 23:37:45.232 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API) in 44724.7638ms
2025-11-04 23:37:45.239 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:37:45.247 +06:00 [DBG] 'CityInfoContext' disposed.
2025-11-04 23:37:45.254 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:37:45.258 +06:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-11-04 23:37:45.263 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/register - 500 159 application/json; charset=utf-8 46010.2759ms
2025-11-04 23:40:41.973 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-11-04 23:40:42.314 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-11-04 23:40:42.329 +06:00 [DBG] Creating DbConnection.
2025-11-04 23:40:42.383 +06:00 [DBG] Created DbConnection. (53ms).
2025-11-04 23:40:42.385 +06:00 [DBG] Migrating using database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:40:42.387 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:40:42.518 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:40:42.520 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:40:42.523 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-11-04 23:40:42.524 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2025-11-04 23:40:42.529 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-04 23:40:42.545 +06:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-04 23:40:42.546 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:40:42.550 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (2ms).
2025-11-04 23:40:42.551 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-11-04 23:40:42.551 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-11-04 23:40:42.551 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-11-04 23:40:42.551 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:40:42.551 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:40:42.552 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-04 23:40:42.560 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-04 23:40:42.560 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:40:42.560 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (0ms).
2025-11-04 23:40:42.561 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:40:42.561 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:40:42.561 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:40:42.561 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:40:42.561 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:40:42.561 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-04 23:40:42.562 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-04 23:40:42.563 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:40:42.563 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (0ms).
2025-11-04 23:40:42.563 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-11-04 23:40:42.563 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-11-04 23:40:42.563 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-11-04 23:40:42.563 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:40:42.563 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:40:42.563 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-04 23:40:42.564 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-04 23:40:42.564 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:40:42.564 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (0ms).
2025-11-04 23:40:42.581 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:40:42.581 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:40:42.581 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:40:42.581 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-04 23:40:42.581 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-11-04 23:40:42.582 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-04 23:40:42.586 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-04 23:40:42.589 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:40:42.590 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 2ms reading results.
2025-11-04 23:40:42.590 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:40:42.590 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (0ms).
2025-11-04 23:40:42.597 +06:00 [INF] Applying migration '20240118083809_email_cs_added'.
2025-11-04 23:40:42.613 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:40:42.613 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:40:42.614 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-04 23:40:42.616 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-11-04 23:40:42.617 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:40:42.617 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:40:42.910 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (293ms).
2025-11-04 23:40:42.910 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN  email VARCHAR(255) COLLATE SQL_Latin1_General_CP1_CS_AS
2025-11-04 23:40:42.920 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN  email VARCHAR(255) COLLATE SQL_Latin1_General_CP1_CS_AS
2025-11-04 23:40:42.921 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-04 23:40:42.921 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:40:42.921 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-04 23:40:42.922 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN  token VARCHAR(255) COLLATE SQL_Latin1_General_CP1_CS_AS
2025-11-04 23:40:42.929 +06:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN  token VARCHAR(255) COLLATE SQL_Latin1_General_CP1_CS_AS
2025-11-04 23:40:42.930 +06:00 [DBG] Disposing transaction.
2025-11-04 23:40:42.931 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:40:42.931 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (0ms).
2025-11-04 23:40:42.933 +06:00 [DBG] 'CityInfoContext' disposed.
2025-11-04 23:40:42.935 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:40:42.936 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-11-04 23:43:00.253 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-04 23:43:00.391 +06:00 [DBG] Hosting starting
2025-11-04 23:43:00.414 +06:00 [INF] User profile is available. Using 'C:\Users\smriad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-04 23:43:00.428 +06:00 [DBG] Reading data from file 'C:\Users\smriad\AppData\Local\ASP.NET\DataProtection-Keys\key-1818f3f5-7bdd-4648-bb32-28b47dfaa762.xml'.
2025-11-04 23:43:00.438 +06:00 [DBG] Reading data from file 'C:\Users\smriad\AppData\Local\ASP.NET\DataProtection-Keys\key-5d61769b-4ede-4b43-8e40-62f52be3088d.xml'.
2025-11-04 23:43:00.441 +06:00 [DBG] Reading data from file 'C:\Users\smriad\AppData\Local\ASP.NET\DataProtection-Keys\key-d35e7b7f-1dbb-4d32-ae68-2df697aedf39.xml'.
2025-11-04 23:43:00.448 +06:00 [DBG] Found key {1818f3f5-7bdd-4648-bb32-28b47dfaa762}.
2025-11-04 23:43:00.456 +06:00 [DBG] Found key {5d61769b-4ede-4b43-8e40-62f52be3088d}.
2025-11-04 23:43:00.458 +06:00 [DBG] Found key {d35e7b7f-1dbb-4d32-ae68-2df697aedf39}.
2025-11-04 23:43:00.467 +06:00 [DBG] Considering key {d35e7b7f-1dbb-4d32-ae68-2df697aedf39} with expiration date 2025-11-09 08:11:23Z as default key.
2025-11-04 23:43:00.476 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-04 23:43:00.481 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-11-04 23:43:00.485 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-04 23:43:00.496 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-11-04 23:43:00.502 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-11-04 23:43:00.507 +06:00 [DBG] Using key {d35e7b7f-1dbb-4d32-ae68-2df697aedf39} as the default key.
2025-11-04 23:43:00.511 +06:00 [DBG] Key ring with default key {d35e7b7f-1dbb-4d32-ae68-2df697aedf39} was loaded during application startup.
2025-11-04 23:43:00.521 +06:00 [DBG] Middleware loaded
2025-11-04 23:43:00.525 +06:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16509 B).
2025-11-04 23:43:00.529 +06:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-11-04 23:43:00.654 +06:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-11-04 23:43:00.757 +06:00 [INF] Now listening on: https://localhost:7156
2025-11-04 23:43:00.760 +06:00 [INF] Now listening on: http://localhost:5062
2025-11-04 23:43:00.763 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-11-04 23:43:00.764 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-04 23:43:00.767 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-11-04 23:43:00.769 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-04 23:43:00.845 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-04 23:43:00.848 +06:00 [INF] Hosting environment: Development
2025-11-04 23:43:00.850 +06:00 [INF] Content root path: D:\GitHub\CityInfo\CityInfo.API\CityInfo.API
2025-11-04 23:43:00.852 +06:00 [DBG] Hosting started
2025-11-04 23:43:42.629 +06:00 [DBG] Connection id "0HNGRP6P45G6H" accepted.
2025-11-04 23:43:42.638 +06:00 [DBG] Connection id "0HNGRP6P45G6H" started.
2025-11-04 23:43:42.769 +06:00 [DBG] Connection 0HNGRP6P45G6H established using the following protocol: "Tls13"
2025-11-04 23:43:42.847 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/register - null null
2025-11-04 23:43:42.861 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-04 23:43:42.874 +06:00 [DBG] OPTIONS requests are not supported
2025-11-04 23:43:42.878 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:43:42.881 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:43:42.884 +06:00 [DBG] The request is a preflight request.
2025-11-04 23:43:42.896 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/register - 204 null null 55.9099ms
2025-11-04 23:43:42.919 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json 122
2025-11-04 23:43:42.928 +06:00 [DBG] POST requests are not supported
2025-11-04 23:43:42.935 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:43:42.937 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:43:42.979 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2025-11-04 23:43:42.987 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2025-11-04 23:43:42.991 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:43:43.075 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:43:43.082 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:43:43.126 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2025-11-04 23:43:43.135 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-04 23:43:43.139 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-04 23:43:43.144 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-04 23:43:43.150 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-04 23:43:43.155 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-04 23:43:43.161 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2025-11-04 23:43:43.393 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-11-04 23:43:43.692 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2025-11-04 23:43:43.703 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2025-11-04 23:43:43.716 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2025-11-04 23:43:43.725 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-11-04 23:43:43.730 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-11-04 23:43:43.744 +06:00 [DBG] Connection id "0HNGRP6P45G6H", Request id "0HNGRP6P45G6H:00000003": started reading request body.
2025-11-04 23:43:43.751 +06:00 [DBG] Connection id "0HNGRP6P45G6H", Request id "0HNGRP6P45G6H:00000003": done reading request body.
2025-11-04 23:43:43.888 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:43:43.891 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:43:43.896 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2025-11-04 23:43:43.909 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:43:45.190 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-11-04 23:43:45.287 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.userName == __userName_0)'
2025-11-04 23:43:45.609 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.userName == @__userName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-04 23:43:45.713 +06:00 [DBG] Creating DbConnection.
2025-11-04 23:43:45.765 +06:00 [DBG] Created DbConnection. (47ms).
2025-11-04 23:43:45.775 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:43:46.263 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:43:46.276 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:43:46.294 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (12ms).
2025-11-04 23:43:46.319 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (43ms).
2025-11-04 23:43:46.344 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:43:46.491 +06:00 [INF] Executed DbCommand (151ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:43:46.539 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:43:46.558 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 44ms reading results.
2025-11-04 23:43:46.570 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:43:46.589 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (17ms).
2025-11-04 23:43:46.600 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.email == __email_0)'
2025-11-04 23:43:46.612 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.email == @__email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-04 23:43:46.617 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:43:46.623 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:43:46.627 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:43:46.631 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-11-04 23:43:46.635 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-11-04 23:43:46.639 +06:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:43:46.656 +06:00 [INF] Executed DbCommand (17ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:43:46.665 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:43:46.670 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 5ms reading results.
2025-11-04 23:43:46.675 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:43:46.679 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (4ms).
2025-11-04 23:43:46.778 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:43:46.893 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:43:46.906 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2025-11-04 23:43:46.915 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2025-11-04 23:43:46.943 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2025-11-04 23:43:47.067 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:43:47.072 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:43:47.081 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:43:47.084 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-11-04 23:43:47.088 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-11-04 23:43:47.091 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 4000), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([admin], [email], [firstName], [lastName], [password], [token], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-04 23:43:47.115 +06:00 [ERR] Failed executing DbCommand (21ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 4000), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([admin], [email], [firstName], [lastName], [password], [token], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-04 23:43:47.135 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:43:47.140 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (5ms).
2025-11-04 23:43:47.197 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'admin'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:46e4678b-e234-45f1-9fbc-be57a30f8e07
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'admin'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:46e4678b-e234-45f1-9fbc-be57a30f8e07
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-04 23:44:20.418 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-11-04 23:44:20.441 +06:00 [DBG] No information found on request to perform content negotiation.
2025-11-04 23:44:20.447 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-04 23:44:20.453 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-04 23:44:20.464 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-04 23:44:20.474 +06:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-04 23:44:20.568 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API) in 37392.5223ms
2025-11-04 23:44:20.573 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:44:20.584 +06:00 [DBG] 'CityInfoContext' disposed.
2025-11-04 23:44:20.595 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:44:20.600 +06:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-11-04 23:44:20.608 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/register - 500 159 application/json; charset=utf-8 37689.3913ms
2025-11-04 23:46:14.553 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-04 23:46:14.697 +06:00 [DBG] Hosting starting
2025-11-04 23:46:14.721 +06:00 [INF] User profile is available. Using 'C:\Users\smriad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-04 23:46:14.733 +06:00 [DBG] Reading data from file 'C:\Users\smriad\AppData\Local\ASP.NET\DataProtection-Keys\key-1818f3f5-7bdd-4648-bb32-28b47dfaa762.xml'.
2025-11-04 23:46:14.741 +06:00 [DBG] Reading data from file 'C:\Users\smriad\AppData\Local\ASP.NET\DataProtection-Keys\key-5d61769b-4ede-4b43-8e40-62f52be3088d.xml'.
2025-11-04 23:46:14.744 +06:00 [DBG] Reading data from file 'C:\Users\smriad\AppData\Local\ASP.NET\DataProtection-Keys\key-d35e7b7f-1dbb-4d32-ae68-2df697aedf39.xml'.
2025-11-04 23:46:14.749 +06:00 [DBG] Found key {1818f3f5-7bdd-4648-bb32-28b47dfaa762}.
2025-11-04 23:46:14.754 +06:00 [DBG] Found key {5d61769b-4ede-4b43-8e40-62f52be3088d}.
2025-11-04 23:46:14.757 +06:00 [DBG] Found key {d35e7b7f-1dbb-4d32-ae68-2df697aedf39}.
2025-11-04 23:46:14.766 +06:00 [DBG] Considering key {d35e7b7f-1dbb-4d32-ae68-2df697aedf39} with expiration date 2025-11-09 08:11:23Z as default key.
2025-11-04 23:46:14.774 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-04 23:46:14.778 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-11-04 23:46:14.783 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-04 23:46:14.790 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-11-04 23:46:14.793 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-11-04 23:46:14.798 +06:00 [DBG] Using key {d35e7b7f-1dbb-4d32-ae68-2df697aedf39} as the default key.
2025-11-04 23:46:14.802 +06:00 [DBG] Key ring with default key {d35e7b7f-1dbb-4d32-ae68-2df697aedf39} was loaded during application startup.
2025-11-04 23:46:14.810 +06:00 [DBG] Middleware loaded
2025-11-04 23:46:14.814 +06:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16509 B).
2025-11-04 23:46:14.819 +06:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-11-04 23:46:14.916 +06:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-11-04 23:46:15.036 +06:00 [DBG] Connection id "0HNGRP86HKGOB" accepted.
2025-11-04 23:46:15.039 +06:00 [DBG] Connection id "0HNGRP86HKGOB" started.
2025-11-04 23:46:15.041 +06:00 [INF] Now listening on: https://localhost:7156
2025-11-04 23:46:15.043 +06:00 [INF] Now listening on: http://localhost:5062
2025-11-04 23:46:15.050 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-11-04 23:46:15.052 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-04 23:46:15.054 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-11-04 23:46:15.057 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-04 23:46:15.098 +06:00 [DBG] Connection 0HNGRP86HKGOB established using the following protocol: "Tls13"
2025-11-04 23:46:15.149 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-04 23:46:15.151 +06:00 [INF] Hosting environment: Development
2025-11-04 23:46:15.154 +06:00 [INF] Content root path: D:\GitHub\CityInfo\CityInfo.API\CityInfo.API
2025-11-04 23:46:15.156 +06:00 [DBG] Hosting started
2025-11-04 23:46:15.159 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/register - null null
2025-11-04 23:46:15.171 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-04 23:46:15.179 +06:00 [DBG] OPTIONS requests are not supported
2025-11-04 23:46:15.182 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:46:15.183 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:46:15.186 +06:00 [DBG] The request is a preflight request.
2025-11-04 23:46:15.191 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/register - 204 null null 38.8239ms
2025-11-04 23:46:15.198 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json 122
2025-11-04 23:46:15.206 +06:00 [DBG] POST requests are not supported
2025-11-04 23:46:15.209 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:46:15.211 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:46:15.233 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2025-11-04 23:46:15.239 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2025-11-04 23:46:15.242 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:46:15.264 +06:00 [DBG] Connection id "0HNGRP86HKGOC" accepted.
2025-11-04 23:46:15.266 +06:00 [DBG] Connection id "0HNGRP86HKGOC" started.
2025-11-04 23:46:15.280 +06:00 [DBG] Connection 0HNGRP86HKGOC established using the following protocol: "Tls13"
2025-11-04 23:46:15.305 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:46:15.311 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:46:15.338 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2025-11-04 23:46:15.343 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-04 23:46:15.346 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-04 23:46:15.350 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-04 23:46:15.354 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-04 23:46:15.357 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-04 23:46:15.361 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2025-11-04 23:46:15.485 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-11-04 23:46:15.660 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2025-11-04 23:46:15.668 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2025-11-04 23:46:15.673 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2025-11-04 23:46:15.676 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-11-04 23:46:15.680 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-11-04 23:46:15.687 +06:00 [DBG] Connection id "0HNGRP86HKGOB", Request id "0HNGRP86HKGOB:00000003": started reading request body.
2025-11-04 23:46:15.689 +06:00 [DBG] Connection id "0HNGRP86HKGOB", Request id "0HNGRP86HKGOB:00000003": done reading request body.
2025-11-04 23:46:15.765 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:46:15.766 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:46:15.769 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2025-11-04 23:46:15.782 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:46:16.523 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-11-04 23:46:16.578 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.userName == __userName_0)'
2025-11-04 23:46:16.737 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.userName == @__userName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-04 23:46:16.787 +06:00 [DBG] Creating DbConnection.
2025-11-04 23:46:16.820 +06:00 [DBG] Created DbConnection. (30ms).
2025-11-04 23:46:16.829 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:46:17.172 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:46:17.182 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:46:17.194 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-11-04 23:46:17.210 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (28ms).
2025-11-04 23:46:17.222 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:46:17.314 +06:00 [INF] Executed DbCommand (90ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:46:17.342 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:46:17.358 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 29ms reading results.
2025-11-04 23:46:17.367 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:46:17.379 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (11ms).
2025-11-04 23:46:17.385 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.email == __email_0)'
2025-11-04 23:46:17.392 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.email == @__email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-04 23:46:17.398 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:46:17.404 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:46:17.410 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:46:17.413 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-11-04 23:46:17.416 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-11-04 23:46:17.419 +06:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:46:17.428 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:46:17.433 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:46:17.436 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 3ms reading results.
2025-11-04 23:46:17.439 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:46:17.442 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (2ms).
2025-11-04 23:46:17.502 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:46:17.557 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:46:17.566 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2025-11-04 23:46:17.572 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2025-11-04 23:46:17.585 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2025-11-04 23:46:17.653 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:46:17.656 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:46:17.660 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:46:17.662 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-04 23:46:17.664 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-11-04 23:46:17.667 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 4000), @p5='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([email], [firstName], [lastName], [password], [token], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-11-04 23:46:17.697 +06:00 [INF] Executed DbCommand (30ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 4000), @p5='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([email], [firstName], [lastName], [password], [token], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-11-04 23:46:17.714 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:46:17.716 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 14ms reading results.
2025-11-04 23:46:17.722 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:46:17.725 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (2ms).
2025-11-04 23:46:17.758 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'token', table 'CityInfo.dbo.Users'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:e47652db-0f52-4499-9480-2e206b825b47
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'token', table 'CityInfo.dbo.Users'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:e47652db-0f52-4499-9480-2e206b825b47
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-04 23:48:08.508 +06:00 [DBG] Connection id "0HNGRP86HKGOC" received FIN.
2025-11-04 23:48:08.575 +06:00 [DBG] Connection id "0HNGRP86HKGOC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-04 23:48:08.576 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-11-04 23:48:08.577 +06:00 [DBG] Connection id "0HNGRP86HKGOC" is closed. The last processed stream ID was 0.
2025-11-04 23:48:08.588 +06:00 [DBG] No information found on request to perform content negotiation.
2025-11-04 23:48:08.589 +06:00 [DBG] The connection queue processing loop for 0HNGRP86HKGOC completed.
2025-11-04 23:48:08.592 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-04 23:48:08.596 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-04 23:48:08.599 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-04 23:48:08.601 +06:00 [DBG] Connection id "0HNGRP86HKGOC" stopped.
2025-11-04 23:48:08.603 +06:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-04 23:48:08.685 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API) in 113320.928ms
2025-11-04 23:48:08.691 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:48:08.702 +06:00 [DBG] 'CityInfoContext' disposed.
2025-11-04 23:48:08.713 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:48:08.720 +06:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-11-04 23:48:08.726 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/register - 500 159 application/json; charset=utf-8 113528.0481ms
2025-11-04 23:49:54.043 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/register - null null
2025-11-04 23:49:54.054 +06:00 [DBG] OPTIONS requests are not supported
2025-11-04 23:49:54.057 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:49:54.061 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:49:54.065 +06:00 [DBG] The request is a preflight request.
2025-11-04 23:49:54.068 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/register - 204 null null 26.0877ms
2025-11-04 23:49:54.072 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json 122
2025-11-04 23:49:54.088 +06:00 [DBG] POST requests are not supported
2025-11-04 23:49:54.091 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:49:54.093 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:49:54.098 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2025-11-04 23:49:54.110 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2025-11-04 23:49:54.114 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:49:54.119 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:49:54.122 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:49:54.134 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2025-11-04 23:49:54.139 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-04 23:49:54.142 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-04 23:49:54.146 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-04 23:49:54.150 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-04 23:49:54.155 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-04 23:49:54.159 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2025-11-04 23:49:54.164 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2025-11-04 23:49:54.170 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2025-11-04 23:49:54.174 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2025-11-04 23:49:54.178 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-11-04 23:49:54.181 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-11-04 23:49:54.184 +06:00 [DBG] Connection id "0HNGRP86HKGOB", Request id "0HNGRP86HKGOB:00000007": started reading request body.
2025-11-04 23:49:54.188 +06:00 [DBG] Connection id "0HNGRP86HKGOB", Request id "0HNGRP86HKGOB:00000007": done reading request body.
2025-11-04 23:49:54.195 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:49:54.201 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:49:54.204 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2025-11-04 23:49:54.211 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2025-11-04 23:49:54.246 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-11-04 23:49:54.258 +06:00 [DBG] Creating DbConnection.
2025-11-04 23:49:54.261 +06:00 [DBG] Created DbConnection. (2ms).
2025-11-04 23:49:54.264 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:49:54.267 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:49:54.270 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:49:54.272 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-11-04 23:49:54.275 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-11-04 23:49:54.279 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:49:54.292 +06:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:49:54.297 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:49:54.299 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 2ms reading results.
2025-11-04 23:49:54.303 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:49:54.306 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (2ms).
2025-11-04 23:49:54.310 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:49:54.312 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:49:54.315 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:49:54.316 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-04 23:49:54.319 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-11-04 23:49:54.321 +06:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:49:54.330 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:49:54.336 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:49:54.339 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 3ms reading results.
2025-11-04 23:49:54.342 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:49:54.344 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (2ms).
2025-11-04 23:49:54.363 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:49:54.368 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:49:54.371 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2025-11-04 23:49:54.373 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2025-11-04 23:49:54.376 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2025-11-04 23:49:54.380 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:49:54.383 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:49:54.386 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:49:54.388 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-11-04 23:49:54.391 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-11-04 23:49:54.395 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 4000), @p5='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([email], [firstName], [lastName], [password], [token], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-11-04 23:49:54.405 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 4000), @p5='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([email], [firstName], [lastName], [password], [token], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-11-04 23:49:54.425 +06:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-04 23:49:54.440 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:49:54.444 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 34ms reading results.
2025-11-04 23:49:54.447 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:49:54.451 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (3ms).
2025-11-04 23:49:54.474 +06:00 [DBG] An entity of type 'User' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:49:54.483 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2025-11-04 23:49:54.488 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-11-04 23:49:54.494 +06:00 [DBG] No information found on request to perform content negotiation.
2025-11-04 23:49:54.497 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-04 23:49:54.499 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-04 23:49:54.502 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-04 23:49:54.505 +06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Entities.User'.
2025-11-04 23:49:54.541 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API) in 382.0341ms
2025-11-04 23:49:54.546 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2025-11-04 23:49:54.550 +06:00 [DBG] 'CityInfoContext' disposed.
2025-11-04 23:49:54.554 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:49:54.558 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-11-04 23:49:54.562 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/register - 200 221 application/json; charset=utf-8 491.4705ms
2025-11-04 23:50:28.116 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - null null
2025-11-04 23:50:28.159 +06:00 [DBG] OPTIONS requests are not supported
2025-11-04 23:50:28.168 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:50:28.179 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:50:28.185 +06:00 [DBG] The request is a preflight request.
2025-11-04 23:50:28.192 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - 204 null null 78.2515ms
2025-11-04 23:50:28.197 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json 44
2025-11-04 23:50:28.238 +06:00 [DBG] POST requests are not supported
2025-11-04 23:50:28.241 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:50:28.245 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:50:28.255 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2025-11-04 23:50:28.262 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2025-11-04 23:50:28.271 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2025-11-04 23:50:28.281 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:50:28.285 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2025-11-04 23:50:28.303 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserForLoginDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2025-11-04 23:50:28.310 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-04 23:50:28.317 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-04 23:50:28.328 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-04 23:50:28.336 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-04 23:50:28.340 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-04 23:50:28.347 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2025-11-04 23:50:28.362 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2025-11-04 23:50:28.365 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2025-11-04 23:50:28.367 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' using the name '' in request data ...
2025-11-04 23:50:28.370 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-11-04 23:50:28.373 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-11-04 23:50:28.375 +06:00 [DBG] Connection id "0HNGRP86HKGOB", Request id "0HNGRP86HKGOB:0000000B": started reading request body.
2025-11-04 23:50:28.378 +06:00 [DBG] Connection id "0HNGRP86HKGOB", Request id "0HNGRP86HKGOB:0000000B": done reading request body.
2025-11-04 23:50:28.384 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2025-11-04 23:50:28.387 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2025-11-04 23:50:28.390 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2025-11-04 23:50:28.393 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2025-11-04 23:50:28.535 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-11-04 23:50:28.541 +06:00 [DBG] Creating DbConnection.
2025-11-04 23:50:28.543 +06:00 [DBG] Created DbConnection. (1ms).
2025-11-04 23:50:28.544 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:50:28.546 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:50:28.548 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:50:28.553 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-11-04 23:50:28.555 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-11-04 23:50:28.557 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:50:28.572 +06:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:50:28.576 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:50:28.578 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 2ms reading results.
2025-11-04 23:50:28.581 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:50:28.583 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (2ms).
2025-11-04 23:50:28.591 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Where(c => c.userName == __userName_0)
    .FirstOrDefault()'
2025-11-04 23:50:28.663 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.email (string) Required MaxLength(50), 1], [Property: User.firstName (string) Required MaxLength(50), 2], [Property: User.lastName (string), 3], [Property: User.password (string) Required MaxLength(50), 4], [Property: User.token (string), 5], [Property: User.userName (string) Required MaxLength(50), 6] }
            SELECT TOP(1) u.Id, u.email, u.firstName, u.lastName, u.password, u.token, u.userName
            FROM Users AS u
            WHERE u.userName == @__userName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-04 23:50:28.679 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:50:28.682 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:50:28.684 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:50:28.686 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-04 23:50:28.689 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-11-04 23:50:28.692 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[token], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[userName] = @__userName_0
2025-11-04 23:50:28.701 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[token], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[userName] = @__userName_0
2025-11-04 23:50:28.717 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:50:28.721 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:50:28.724 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 18ms reading results.
2025-11-04 23:50:28.727 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:50:28.730 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (2ms).
2025-11-04 23:50:28.745 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-11-04 23:50:28.750 +06:00 [DBG] No information found on request to perform content negotiation.
2025-11-04 23:50:28.751 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-04 23:50:28.752 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-04 23:50:28.755 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-04 23:50:28.756 +06:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-04 23:50:28.761 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 414.0463ms
2025-11-04 23:50:28.764 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2025-11-04 23:50:28.766 +06:00 [DBG] 'CityInfoContext' disposed.
2025-11-04 23:50:28.769 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:50:28.771 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-04 23:50:28.773 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 404 28 application/json; charset=utf-8 576.4184ms
2025-11-04 23:51:41.802 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - null null
2025-11-04 23:51:41.844 +06:00 [DBG] OPTIONS requests are not supported
2025-11-04 23:51:41.851 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:51:41.860 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:51:41.867 +06:00 [DBG] The request is a preflight request.
2025-11-04 23:51:41.870 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - 204 null null 69.2523ms
2025-11-04 23:51:41.896 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json 44
2025-11-04 23:51:41.917 +06:00 [DBG] POST requests are not supported
2025-11-04 23:51:41.925 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:51:41.931 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:51:41.935 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2025-11-04 23:51:41.943 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2025-11-04 23:51:41.954 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2025-11-04 23:51:41.962 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:51:41.969 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2025-11-04 23:51:41.977 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserForLoginDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2025-11-04 23:51:41.991 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-04 23:51:42.003 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-04 23:51:42.013 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-04 23:51:42.026 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-04 23:51:42.035 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-04 23:51:42.042 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2025-11-04 23:51:42.045 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2025-11-04 23:51:42.049 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2025-11-04 23:51:42.058 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' using the name '' in request data ...
2025-11-04 23:51:42.068 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-11-04 23:51:42.071 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-11-04 23:51:42.075 +06:00 [DBG] Connection id "0HNGRP86HKGOB", Request id "0HNGRP86HKGOB:0000000F": started reading request body.
2025-11-04 23:51:42.078 +06:00 [DBG] Connection id "0HNGRP86HKGOB", Request id "0HNGRP86HKGOB:0000000F": done reading request body.
2025-11-04 23:51:42.085 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2025-11-04 23:51:42.091 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2025-11-04 23:51:42.092 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2025-11-04 23:51:42.095 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2025-11-04 23:51:42.102 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-11-04 23:51:42.112 +06:00 [DBG] Creating DbConnection.
2025-11-04 23:51:42.119 +06:00 [DBG] Created DbConnection. (7ms).
2025-11-04 23:51:42.121 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:51:42.131 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:51:42.132 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:51:42.135 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-11-04 23:51:42.137 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-11-04 23:51:42.140 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:51:42.153 +06:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:51:42.157 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:51:42.161 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 3ms reading results.
2025-11-04 23:51:42.168 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:51:42.172 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (3ms).
2025-11-04 23:51:42.177 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:51:42.183 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:51:42.188 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:51:42.192 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-11-04 23:51:42.197 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-11-04 23:51:42.203 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[token], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[userName] = @__userName_0
2025-11-04 23:51:42.211 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[token], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[userName] = @__userName_0
2025-11-04 23:51:42.219 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:51:42.222 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:51:42.227 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 9ms reading results.
2025-11-04 23:51:42.234 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:51:42.236 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (2ms).
2025-11-04 23:51:42.249 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-11-04 23:51:42.257 +06:00 [DBG] No information found on request to perform content negotiation.
2025-11-04 23:51:42.260 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-04 23:51:42.263 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-04 23:51:42.266 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-04 23:51:42.269 +06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-04 23:51:42.274 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 232.4413ms
2025-11-04 23:51:42.277 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2025-11-04 23:51:42.281 +06:00 [DBG] 'CityInfoContext' disposed.
2025-11-04 23:51:42.286 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:51:42.288 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-04 23:51:42.291 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 200 28 application/json; charset=utf-8 400.2605ms
2025-11-04 23:51:44.389 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2025-11-04 23:51:44.410 +06:00 [DBG] The request path  does not match the path filter
2025-11-04 23:51:44.417 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:51:44.422 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:51:44.428 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-11-04 23:51:44.431 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-11-04 23:51:44.437 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-11-04 23:51:44.441 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:51:44.443 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-11-04 23:51:44.454 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-11-04 23:51:44.460 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-04 23:51:44.466 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-04 23:51:44.469 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-04 23:51:44.474 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-04 23:51:44.476 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-04 23:51:44.479 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-11-04 23:51:44.482 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-11-04 23:51:44.492 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-11-04 23:51:44.503 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2025-11-04 23:51:44.519 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], [Property: City.userId (int) Required FK Index, 3] }
        SELECT c.Id, c.Description, c.Name, c.userId
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2025-11-04 23:51:44.526 +06:00 [DBG] Creating DbConnection.
2025-11-04 23:51:44.527 +06:00 [DBG] Created DbConnection. (1ms).
2025-11-04 23:51:44.528 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:51:44.531 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:51:44.533 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:51:44.536 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-11-04 23:51:44.539 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-11-04 23:51:44.541 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2025-11-04 23:51:44.552 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2025-11-04 23:51:44.560 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:51:44.564 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 5ms reading results.
2025-11-04 23:51:44.569 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:51:44.573 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (3ms).
2025-11-04 23:51:44.578 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-11-04 23:51:44.581 +06:00 [DBG] No information found on request to perform content negotiation.
2025-11-04 23:51:44.583 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-11-04 23:51:44.592 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-11-04 23:51:44.598 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-11-04 23:51:44.629 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 150.1942ms
2025-11-04 23:51:44.634 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-11-04 23:51:44.638 +06:00 [DBG] 'CityInfoContext' disposed.
2025-11-04 23:51:44.643 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:51:44.646 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-11-04 23:51:44.652 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 404 162 application/problem+json; charset=utf-8 263.3618ms
2025-11-04 23:52:13.190 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities - null null
2025-11-04 23:52:13.228 +06:00 [DBG] OPTIONS requests are not supported
2025-11-04 23:52:13.237 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:52:13.245 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:52:13.251 +06:00 [DBG] The request is a preflight request.
2025-11-04 23:52:13.256 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities - 204 null null 65.4804ms
2025-11-04 23:52:13.275 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities - application/json 81
2025-11-04 23:52:13.294 +06:00 [DBG] POST requests are not supported
2025-11-04 23:52:13.300 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:52:13.305 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:52:13.309 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-11-04 23:52:13.316 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-11-04 23:52:13.328 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2025-11-04 23:52:13.331 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:52:13.335 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2025-11-04 23:52:13.347 +06:00 [INF] Route matched with {action = "CreateCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] CreateCity(CityInfo.API.Models.CityForCreationDto) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-11-04 23:52:13.355 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-04 23:52:13.361 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-04 23:52:13.367 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-04 23:52:13.373 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-04 23:52:13.378 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-04 23:52:13.385 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-11-04 23:52:13.389 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-11-04 23:52:13.394 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2025-11-04 23:52:13.399 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' using the name '' in request data ...
2025-11-04 23:52:13.403 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-11-04 23:52:13.407 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-11-04 23:52:13.412 +06:00 [DBG] Connection id "0HNGRP86HKGOB", Request id "0HNGRP86HKGOB:00000015": started reading request body.
2025-11-04 23:52:13.417 +06:00 [DBG] Connection id "0HNGRP86HKGOB", Request id "0HNGRP86HKGOB:00000015": done reading request body.
2025-11-04 23:52:13.424 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2025-11-04 23:52:13.430 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2025-11-04 23:52:13.434 +06:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2025-11-04 23:52:13.439 +06:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2025-11-04 23:52:13.445 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-11-04 23:52:13.453 +06:00 [DBG] Creating DbConnection.
2025-11-04 23:52:13.457 +06:00 [DBG] Created DbConnection. (3ms).
2025-11-04 23:52:13.462 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:13.468 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:13.473 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:52:13.477 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-11-04 23:52:13.480 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-11-04 23:52:13.483 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[token], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[userName] = @__userName_0
2025-11-04 23:52:13.507 +06:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[token], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[userName] = @__userName_0
2025-11-04 23:52:13.518 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:52:13.524 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:13.527 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 8ms reading results.
2025-11-04 23:52:13.531 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:13.535 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (4ms).
2025-11-04 23:52:13.561 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'City.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:52:13.589 +06:00 [DBG] The navigation 'City.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:52:13.610 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:52:13.614 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2025-11-04 23:52:13.616 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2025-11-04 23:52:13.624 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2025-11-04 23:52:13.632 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:13.635 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:13.637 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:52:13.641 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-11-04 23:52:13.643 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-11-04 23:52:13.647 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-11-04 23:52:13.679 +06:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-11-04 23:52:13.687 +06:00 [DBG] The foreign key property 'City.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-04 23:52:13.702 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:13.711 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 27ms reading results.
2025-11-04 23:52:13.721 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:13.731 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (9ms).
2025-11-04 23:52:13.743 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:52:13.756 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2025-11-04 23:52:13.766 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-11-04 23:52:13.778 +06:00 [DBG] No information found on request to perform content negotiation.
2025-11-04 23:52:13.779 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-04 23:52:13.781 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-04 23:52:13.782 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-04 23:52:13.786 +06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-04 23:52:13.788 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API) in 403.3006ms
2025-11-04 23:52:13.793 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2025-11-04 23:52:13.796 +06:00 [DBG] 'CityInfoContext' disposed.
2025-11-04 23:52:13.799 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:13.803 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-11-04 23:52:13.806 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities - 200 24 application/json; charset=utf-8 536.2127ms
2025-11-04 23:52:15.676 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2025-11-04 23:52:15.696 +06:00 [DBG] The request path  does not match the path filter
2025-11-04 23:52:15.701 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:52:15.704 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:52:15.708 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-11-04 23:52:15.715 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-11-04 23:52:15.721 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-11-04 23:52:15.725 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:52:15.728 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-11-04 23:52:15.730 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-11-04 23:52:15.737 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-04 23:52:15.743 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-04 23:52:15.747 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-04 23:52:15.753 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-04 23:52:15.759 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-04 23:52:15.768 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-11-04 23:52:15.773 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-11-04 23:52:15.781 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-11-04 23:52:15.788 +06:00 [DBG] Creating DbConnection.
2025-11-04 23:52:15.790 +06:00 [DBG] Created DbConnection. (1ms).
2025-11-04 23:52:15.792 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:15.796 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:15.799 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:52:15.802 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-11-04 23:52:15.805 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-11-04 23:52:15.808 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2025-11-04 23:52:15.819 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2025-11-04 23:52:15.824 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:52:15.828 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:15.831 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 8ms reading results.
2025-11-04 23:52:15.836 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:15.839 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (3ms).
2025-11-04 23:52:15.882 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-11-04 23:52:15.888 +06:00 [DBG] No information found on request to perform content negotiation.
2025-11-04 23:52:15.890 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-04 23:52:15.892 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-04 23:52:15.894 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-04 23:52:15.898 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 23:52:15.907 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 139.143ms
2025-11-04 23:52:15.910 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-11-04 23:52:15.912 +06:00 [DBG] 'CityInfoContext' disposed.
2025-11-04 23:52:15.915 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:15.918 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-11-04 23:52:15.921 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 72 application/json; charset=utf-8 245.9904ms
2025-11-04 23:52:37.722 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2025-11-04 23:52:37.740 +06:00 [DBG] The request path  does not match the path filter
2025-11-04 23:52:37.743 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:52:37.746 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:52:37.748 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-11-04 23:52:37.752 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-11-04 23:52:37.756 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-11-04 23:52:37.760 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:52:37.762 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-11-04 23:52:37.765 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-11-04 23:52:37.770 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-04 23:52:37.773 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-04 23:52:37.777 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-04 23:52:37.781 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-04 23:52:37.785 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-04 23:52:37.788 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-11-04 23:52:37.793 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-11-04 23:52:37.798 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-11-04 23:52:37.802 +06:00 [DBG] Creating DbConnection.
2025-11-04 23:52:37.804 +06:00 [DBG] Created DbConnection. (1ms).
2025-11-04 23:52:37.806 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:37.808 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:37.811 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:52:37.814 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-11-04 23:52:37.818 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-11-04 23:52:37.821 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2025-11-04 23:52:37.832 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2025-11-04 23:52:37.837 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:52:37.840 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:37.844 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 7ms reading results.
2025-11-04 23:52:37.849 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:37.852 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (3ms).
2025-11-04 23:52:37.859 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-11-04 23:52:37.867 +06:00 [DBG] No information found on request to perform content negotiation.
2025-11-04 23:52:37.869 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-04 23:52:37.872 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-04 23:52:37.874 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-04 23:52:37.878 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 23:52:37.882 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 93.6523ms
2025-11-04 23:52:37.886 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-11-04 23:52:37.890 +06:00 [DBG] 'CityInfoContext' disposed.
2025-11-04 23:52:37.894 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:37.898 +06:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-11-04 23:52:37.902 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 72 application/json; charset=utf-8 181.5857ms
2025-11-04 23:52:40.223 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities//pointsofinterest - null null
2025-11-04 23:52:40.240 +06:00 [DBG] The request path  does not match the path filter
2025-11-04 23:52:40.243 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:52:40.247 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:52:40.250 +06:00 [DBG] No candidates found for the request path '/api/cities//pointsofinterest'
2025-11-04 23:52:40.258 +06:00 [DBG] Request did not match any endpoints
2025-11-04 23:52:40.266 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:52:40.273 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities//pointsofinterest - 404 0 null 50.8661ms
2025-11-04 23:52:40.288 +06:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7156/api/cities//pointsofinterest, Response status code: 404
2025-11-04 23:52:52.602 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/dhaka/pointsofinterest - null null
2025-11-04 23:52:52.609 +06:00 [DBG] The request path  does not match the path filter
2025-11-04 23:52:52.610 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:52:52.614 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:52:52.619 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/dhaka/pointsofinterest'
2025-11-04 23:52:52.623 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityName}/pointsofinterest' is valid for the request path '/api/cities/dhaka/pointsofinterest'
2025-11-04 23:52:52.636 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-11-04 23:52:52.645 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:52:52.652 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-11-04 23:52:52.667 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(System.String) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-11-04 23:52:52.677 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-04 23:52:52.684 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-04 23:52:52.689 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-04 23:52:52.697 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-04 23:52:52.702 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-04 23:52:52.707 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-11-04 23:52:52.715 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-11-04 23:52:52.720 +06:00 [DBG] Attempting to bind parameter 'cityName' of type 'System.String' ...
2025-11-04 23:52:52.725 +06:00 [DBG] Attempting to bind parameter 'cityName' of type 'System.String' using the name 'cityName' in request data ...
2025-11-04 23:52:52.733 +06:00 [DBG] Done attempting to bind parameter 'cityName' of type 'System.String'.
2025-11-04 23:52:52.736 +06:00 [DBG] Done attempting to bind parameter 'cityName' of type 'System.String'.
2025-11-04 23:52:52.739 +06:00 [DBG] Attempting to validate the bound parameter 'cityName' of type 'System.String' ...
2025-11-04 23:52:52.742 +06:00 [DBG] Done attempting to validate the bound parameter 'cityName' of type 'System.String'.
2025-11-04 23:52:52.752 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-11-04 23:52:52.758 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Name == __Name_0)'
2025-11-04 23:52:52.766 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Name == @__Name_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-04 23:52:52.770 +06:00 [DBG] Creating DbConnection.
2025-11-04 23:52:52.772 +06:00 [DBG] Created DbConnection. (1ms).
2025-11-04 23:52:52.775 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:52.778 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:52.781 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:52:52.783 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-11-04 23:52:52.787 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-11-04 23:52:52.790 +06:00 [DBG] Executing DbCommand [Parameters=[@__Name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Name] = @__Name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:52:52.823 +06:00 [INF] Executed DbCommand (33ms) [Parameters=[@__Name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Name] = @__Name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:52:52.828 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:52.832 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 3ms reading results.
2025-11-04 23:52:52.837 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:52.841 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (3ms).
2025-11-04 23:52:52.853 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __cityName_0)
    .FirstOrDefault()'
2025-11-04 23:52:52.865 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], [Property: City.userId (int) Required FK Index, 3] }
            SELECT TOP(1) c.Id, c.Description, c.Name, c.userId
            FROM Cities AS c
            WHERE c.Name == @__cityName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-04 23:52:52.868 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:52.871 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:52.875 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:52:52.876 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-04 23:52:52.882 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-11-04 23:52:52.886 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Name] = @__cityName_0
2025-11-04 23:52:52.895 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cityName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Name] = @__cityName_0
2025-11-04 23:52:52.900 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:52:52.904 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:52.908 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 8ms reading results.
2025-11-04 23:52:52.914 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:52.919 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (4ms).
2025-11-04 23:52:52.928 +06:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2025-11-04 23:52:52.939 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], [Property: PointOfInterest.userId (int) Required FK Index, 4] }
        SELECT p.Id, p.CityId, p.Description, p.Name, p.userId
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2025-11-04 23:52:52.945 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:52.949 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:52.954 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:52:52.959 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-11-04 23:52:52.963 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-11-04 23:52:52.967 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2025-11-04 23:52:52.981 +06:00 [INF] Executed DbCommand (14ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2025-11-04 23:52:52.989 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:52.993 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 4ms reading results.
2025-11-04 23:52:52.997 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:53.002 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (4ms).
2025-11-04 23:52:53.013 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-11-04 23:52:53.020 +06:00 [DBG] No information found on request to perform content negotiation.
2025-11-04 23:52:53.021 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-04 23:52:53.023 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-04 23:52:53.025 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-04 23:52:53.028 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 23:52:53.033 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 326.0275ms
2025-11-04 23:52:53.038 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-11-04 23:52:53.042 +06:00 [DBG] 'CityInfoContext' disposed.
2025-11-04 23:52:53.044 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:53.051 +06:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-11-04 23:52:53.054 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/dhaka/pointsofinterest - 200 2 application/json; charset=utf-8 453.1418ms
2025-11-04 23:52:56.733 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/dhaka/pointsofinterest - null null
2025-11-04 23:52:56.747 +06:00 [DBG] The request path  does not match the path filter
2025-11-04 23:52:56.755 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:52:56.766 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:52:56.772 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/dhaka/pointsofinterest'
2025-11-04 23:52:56.782 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityName}/pointsofinterest' is valid for the request path '/api/cities/dhaka/pointsofinterest'
2025-11-04 23:52:56.796 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-11-04 23:52:56.805 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:52:56.815 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-11-04 23:52:56.824 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(System.String) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-11-04 23:52:56.839 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-04 23:52:56.852 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-04 23:52:56.862 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-04 23:52:56.873 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-04 23:52:56.881 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-04 23:52:56.889 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-11-04 23:52:56.898 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-11-04 23:52:56.905 +06:00 [DBG] Attempting to bind parameter 'cityName' of type 'System.String' ...
2025-11-04 23:52:56.917 +06:00 [DBG] Attempting to bind parameter 'cityName' of type 'System.String' using the name 'cityName' in request data ...
2025-11-04 23:52:56.923 +06:00 [DBG] Done attempting to bind parameter 'cityName' of type 'System.String'.
2025-11-04 23:52:56.931 +06:00 [DBG] Done attempting to bind parameter 'cityName' of type 'System.String'.
2025-11-04 23:52:56.939 +06:00 [DBG] Attempting to validate the bound parameter 'cityName' of type 'System.String' ...
2025-11-04 23:52:56.944 +06:00 [DBG] Done attempting to validate the bound parameter 'cityName' of type 'System.String'.
2025-11-04 23:52:56.950 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-11-04 23:52:56.955 +06:00 [DBG] Creating DbConnection.
2025-11-04 23:52:56.958 +06:00 [DBG] Created DbConnection. (2ms).
2025-11-04 23:52:56.962 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:56.964 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:56.967 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:52:56.971 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-11-04 23:52:56.977 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-11-04 23:52:56.981 +06:00 [DBG] Executing DbCommand [Parameters=[@__Name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Name] = @__Name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:52:57.008 +06:00 [INF] Executed DbCommand (27ms) [Parameters=[@__Name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Name] = @__Name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:52:57.024 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:57.033 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 8ms reading results.
2025-11-04 23:52:57.038 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:57.042 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (3ms).
2025-11-04 23:52:57.053 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:57.062 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:57.069 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:52:57.073 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-11-04 23:52:57.082 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-11-04 23:52:57.087 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Name] = @__cityName_0
2025-11-04 23:52:57.104 +06:00 [INF] Executed DbCommand (17ms) [Parameters=[@__cityName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Name] = @__cityName_0
2025-11-04 23:52:57.119 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:52:57.123 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:57.127 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 9ms reading results.
2025-11-04 23:52:57.132 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:57.137 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (4ms).
2025-11-04 23:52:57.144 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:57.149 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:57.155 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:52:57.161 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-11-04 23:52:57.166 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-11-04 23:52:57.172 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2025-11-04 23:52:57.188 +06:00 [INF] Executed DbCommand (16ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2025-11-04 23:52:57.196 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:57.202 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 6ms reading results.
2025-11-04 23:52:57.206 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:57.209 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (2ms).
2025-11-04 23:52:57.213 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-11-04 23:52:57.219 +06:00 [DBG] No information found on request to perform content negotiation.
2025-11-04 23:52:57.222 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-04 23:52:57.227 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-04 23:52:57.231 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-04 23:52:57.236 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 23:52:57.241 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 351.9025ms
2025-11-04 23:52:57.245 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-11-04 23:52:57.249 +06:00 [DBG] 'CityInfoContext' disposed.
2025-11-04 23:52:57.254 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:52:57.259 +06:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-11-04 23:52:57.263 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/dhaka/pointsofinterest - 200 2 application/json; charset=utf-8 530.4566ms
2025-11-04 23:53:03.026 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/Dhaka/pointsofinterest - null null
2025-11-04 23:53:03.053 +06:00 [DBG] The request path  does not match the path filter
2025-11-04 23:53:03.060 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:53:03.063 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:53:03.069 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/Dhaka/pointsofinterest'
2025-11-04 23:53:03.078 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityName}/pointsofinterest' is valid for the request path '/api/cities/Dhaka/pointsofinterest'
2025-11-04 23:53:03.087 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-11-04 23:53:03.095 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:53:03.103 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-11-04 23:53:03.112 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(System.String) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-11-04 23:53:03.129 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-04 23:53:03.134 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-04 23:53:03.137 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-04 23:53:03.144 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-04 23:53:03.148 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-04 23:53:03.152 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-11-04 23:53:03.157 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-11-04 23:53:03.160 +06:00 [DBG] Attempting to bind parameter 'cityName' of type 'System.String' ...
2025-11-04 23:53:03.164 +06:00 [DBG] Attempting to bind parameter 'cityName' of type 'System.String' using the name 'cityName' in request data ...
2025-11-04 23:53:03.169 +06:00 [DBG] Done attempting to bind parameter 'cityName' of type 'System.String'.
2025-11-04 23:53:03.173 +06:00 [DBG] Done attempting to bind parameter 'cityName' of type 'System.String'.
2025-11-04 23:53:03.175 +06:00 [DBG] Attempting to validate the bound parameter 'cityName' of type 'System.String' ...
2025-11-04 23:53:03.188 +06:00 [DBG] Done attempting to validate the bound parameter 'cityName' of type 'System.String'.
2025-11-04 23:53:03.192 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-11-04 23:53:03.196 +06:00 [DBG] Creating DbConnection.
2025-11-04 23:53:03.199 +06:00 [DBG] Created DbConnection. (2ms).
2025-11-04 23:53:03.201 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:03.204 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:03.207 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:53:03.210 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-11-04 23:53:03.212 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-11-04 23:53:03.216 +06:00 [DBG] Executing DbCommand [Parameters=[@__Name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Name] = @__Name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:53:03.225 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@__Name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Name] = @__Name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:53:03.234 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:03.237 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 3ms reading results.
2025-11-04 23:53:03.242 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:03.249 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (6ms).
2025-11-04 23:53:03.258 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:03.263 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:03.268 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:53:03.272 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-11-04 23:53:03.275 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-11-04 23:53:03.278 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Name] = @__cityName_0
2025-11-04 23:53:03.284 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Name] = @__cityName_0
2025-11-04 23:53:03.293 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:53:03.296 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:03.303 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 10ms reading results.
2025-11-04 23:53:03.309 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:03.313 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (3ms).
2025-11-04 23:53:03.316 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:03.319 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:03.321 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:53:03.324 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-11-04 23:53:03.326 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-11-04 23:53:03.328 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2025-11-04 23:53:03.335 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2025-11-04 23:53:03.342 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:03.348 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 5ms reading results.
2025-11-04 23:53:03.355 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:03.362 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (6ms).
2025-11-04 23:53:03.369 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-11-04 23:53:03.375 +06:00 [DBG] No information found on request to perform content negotiation.
2025-11-04 23:53:03.376 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-04 23:53:03.378 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-04 23:53:03.380 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-04 23:53:03.382 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 23:53:03.386 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 233.5138ms
2025-11-04 23:53:03.389 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-11-04 23:53:03.392 +06:00 [DBG] 'CityInfoContext' disposed.
2025-11-04 23:53:03.396 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:03.399 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-11-04 23:53:03.403 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/Dhaka/pointsofinterest - 200 2 application/json; charset=utf-8 377.7624ms
2025-11-04 23:53:06.743 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/Dhaka/pointsofinterest - null null
2025-11-04 23:53:06.763 +06:00 [DBG] The request path  does not match the path filter
2025-11-04 23:53:06.771 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:53:06.779 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:53:06.785 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/Dhaka/pointsofinterest'
2025-11-04 23:53:06.795 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityName}/pointsofinterest' is valid for the request path '/api/cities/Dhaka/pointsofinterest'
2025-11-04 23:53:06.804 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-11-04 23:53:06.813 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:53:06.818 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-11-04 23:53:06.828 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(System.String) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-11-04 23:53:06.845 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-04 23:53:06.858 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-04 23:53:06.870 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-04 23:53:06.881 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-04 23:53:06.888 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-04 23:53:06.896 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-11-04 23:53:06.904 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-11-04 23:53:06.910 +06:00 [DBG] Attempting to bind parameter 'cityName' of type 'System.String' ...
2025-11-04 23:53:06.918 +06:00 [DBG] Attempting to bind parameter 'cityName' of type 'System.String' using the name 'cityName' in request data ...
2025-11-04 23:53:06.927 +06:00 [DBG] Done attempting to bind parameter 'cityName' of type 'System.String'.
2025-11-04 23:53:06.933 +06:00 [DBG] Done attempting to bind parameter 'cityName' of type 'System.String'.
2025-11-04 23:53:06.941 +06:00 [DBG] Attempting to validate the bound parameter 'cityName' of type 'System.String' ...
2025-11-04 23:53:06.949 +06:00 [DBG] Done attempting to validate the bound parameter 'cityName' of type 'System.String'.
2025-11-04 23:53:06.957 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-11-04 23:53:06.966 +06:00 [DBG] Creating DbConnection.
2025-11-04 23:53:06.968 +06:00 [DBG] Created DbConnection. (1ms).
2025-11-04 23:53:06.972 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:06.976 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:06.981 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:53:06.987 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-11-04 23:53:06.991 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-11-04 23:53:06.999 +06:00 [DBG] Executing DbCommand [Parameters=[@__Name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Name] = @__Name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:53:07.009 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[@__Name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Name] = @__Name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:53:07.018 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:07.022 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 3ms reading results.
2025-11-04 23:53:07.031 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:07.039 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (8ms).
2025-11-04 23:53:07.053 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:07.058 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:07.065 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:53:07.067 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-11-04 23:53:07.075 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-11-04 23:53:07.084 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Name] = @__cityName_0
2025-11-04 23:53:07.099 +06:00 [INF] Executed DbCommand (16ms) [Parameters=[@__cityName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Name] = @__cityName_0
2025-11-04 23:53:07.110 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:53:07.116 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:07.119 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 9ms reading results.
2025-11-04 23:53:07.126 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:07.132 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (5ms).
2025-11-04 23:53:07.139 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:07.144 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:07.150 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:53:07.154 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-11-04 23:53:07.158 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-11-04 23:53:07.161 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2025-11-04 23:53:07.171 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2025-11-04 23:53:07.177 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:07.179 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 2ms reading results.
2025-11-04 23:53:07.182 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:07.184 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (2ms).
2025-11-04 23:53:07.187 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-11-04 23:53:07.193 +06:00 [DBG] No information found on request to perform content negotiation.
2025-11-04 23:53:07.197 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-04 23:53:07.198 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-04 23:53:07.199 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-04 23:53:07.204 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 23:53:07.209 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 313.3371ms
2025-11-04 23:53:07.211 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-11-04 23:53:07.213 +06:00 [DBG] 'CityInfoContext' disposed.
2025-11-04 23:53:07.216 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:07.218 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-04 23:53:07.221 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/Dhaka/pointsofinterest - 200 2 application/json; charset=utf-8 478.1601ms
2025-11-04 23:53:10.280 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities//pointsofinterest - null null
2025-11-04 23:53:10.303 +06:00 [DBG] The request path  does not match the path filter
2025-11-04 23:53:10.314 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:53:10.323 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:53:10.328 +06:00 [DBG] No candidates found for the request path '/api/cities//pointsofinterest'
2025-11-04 23:53:10.339 +06:00 [DBG] Request did not match any endpoints
2025-11-04 23:53:10.347 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:53:10.359 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities//pointsofinterest - 404 0 null 78.6653ms
2025-11-04 23:53:10.367 +06:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7156/api/cities//pointsofinterest, Response status code: 404
2025-11-04 23:53:15.597 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/dhaka/pointsofinterest - null null
2025-11-04 23:53:15.616 +06:00 [DBG] The request path  does not match the path filter
2025-11-04 23:53:15.623 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:53:15.630 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:53:15.634 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/dhaka/pointsofinterest'
2025-11-04 23:53:15.642 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityName}/pointsofinterest' is valid for the request path '/api/cities/dhaka/pointsofinterest'
2025-11-04 23:53:15.652 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-11-04 23:53:15.659 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:53:15.666 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-11-04 23:53:15.676 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(System.String) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-11-04 23:53:15.690 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-04 23:53:15.700 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-04 23:53:15.709 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-04 23:53:15.724 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-04 23:53:15.728 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-04 23:53:15.732 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-11-04 23:53:15.736 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-11-04 23:53:15.740 +06:00 [DBG] Attempting to bind parameter 'cityName' of type 'System.String' ...
2025-11-04 23:53:15.744 +06:00 [DBG] Attempting to bind parameter 'cityName' of type 'System.String' using the name 'cityName' in request data ...
2025-11-04 23:53:15.749 +06:00 [DBG] Done attempting to bind parameter 'cityName' of type 'System.String'.
2025-11-04 23:53:15.752 +06:00 [DBG] Done attempting to bind parameter 'cityName' of type 'System.String'.
2025-11-04 23:53:15.755 +06:00 [DBG] Attempting to validate the bound parameter 'cityName' of type 'System.String' ...
2025-11-04 23:53:15.759 +06:00 [DBG] Done attempting to validate the bound parameter 'cityName' of type 'System.String'.
2025-11-04 23:53:15.763 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-11-04 23:53:15.767 +06:00 [DBG] Creating DbConnection.
2025-11-04 23:53:15.771 +06:00 [DBG] Created DbConnection. (4ms).
2025-11-04 23:53:15.773 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:15.777 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:15.781 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:53:15.782 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-04 23:53:15.784 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-11-04 23:53:15.787 +06:00 [DBG] Executing DbCommand [Parameters=[@__Name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Name] = @__Name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:53:15.794 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__Name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Name] = @__Name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:53:15.799 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:15.803 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 4ms reading results.
2025-11-04 23:53:15.805 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:15.808 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (2ms).
2025-11-04 23:53:15.812 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:15.815 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:15.817 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:53:15.819 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-04 23:53:15.822 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-11-04 23:53:15.824 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Name] = @__cityName_0
2025-11-04 23:53:15.828 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Name] = @__cityName_0
2025-11-04 23:53:15.832 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:53:15.842 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:15.847 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 15ms reading results.
2025-11-04 23:53:15.852 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:15.857 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (4ms).
2025-11-04 23:53:15.861 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:15.865 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:15.867 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:53:15.870 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-11-04 23:53:15.872 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-11-04 23:53:15.873 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2025-11-04 23:53:15.878 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2025-11-04 23:53:15.882 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:15.885 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 2ms reading results.
2025-11-04 23:53:15.888 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:15.890 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (2ms).
2025-11-04 23:53:15.893 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-11-04 23:53:15.899 +06:00 [DBG] No information found on request to perform content negotiation.
2025-11-04 23:53:15.900 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-04 23:53:15.903 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-04 23:53:15.904 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-04 23:53:15.906 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 23:53:15.909 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 177.1683ms
2025-11-04 23:53:15.912 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-11-04 23:53:15.914 +06:00 [DBG] 'CityInfoContext' disposed.
2025-11-04 23:53:15.917 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:15.919 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-11-04 23:53:15.922 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/dhaka/pointsofinterest - 200 2 application/json; charset=utf-8 325.2123ms
2025-11-04 23:53:16.250 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/dhaka/pointsofinterest - null null
2025-11-04 23:53:16.275 +06:00 [DBG] The request path  does not match the path filter
2025-11-04 23:53:16.285 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:53:16.295 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:53:16.302 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/dhaka/pointsofinterest'
2025-11-04 23:53:16.311 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityName}/pointsofinterest' is valid for the request path '/api/cities/dhaka/pointsofinterest'
2025-11-04 23:53:16.325 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-11-04 23:53:16.335 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:53:16.345 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-11-04 23:53:16.356 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(System.String) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-11-04 23:53:16.369 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-04 23:53:16.376 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-04 23:53:16.390 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-04 23:53:16.399 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-04 23:53:16.406 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-04 23:53:16.415 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-11-04 23:53:16.422 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-11-04 23:53:16.434 +06:00 [DBG] Attempting to bind parameter 'cityName' of type 'System.String' ...
2025-11-04 23:53:16.442 +06:00 [DBG] Attempting to bind parameter 'cityName' of type 'System.String' using the name 'cityName' in request data ...
2025-11-04 23:53:16.450 +06:00 [DBG] Done attempting to bind parameter 'cityName' of type 'System.String'.
2025-11-04 23:53:16.457 +06:00 [DBG] Done attempting to bind parameter 'cityName' of type 'System.String'.
2025-11-04 23:53:16.466 +06:00 [DBG] Attempting to validate the bound parameter 'cityName' of type 'System.String' ...
2025-11-04 23:53:16.473 +06:00 [DBG] Done attempting to validate the bound parameter 'cityName' of type 'System.String'.
2025-11-04 23:53:16.478 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-11-04 23:53:16.482 +06:00 [DBG] Creating DbConnection.
2025-11-04 23:53:16.487 +06:00 [DBG] Created DbConnection. (5ms).
2025-11-04 23:53:16.489 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:16.491 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:16.493 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:53:16.497 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-11-04 23:53:16.501 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-11-04 23:53:16.503 +06:00 [DBG] Executing DbCommand [Parameters=[@__Name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Name] = @__Name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:53:16.514 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[@__Name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Name] = @__Name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:53:16.523 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:16.526 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 3ms reading results.
2025-11-04 23:53:16.533 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:16.539 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (6ms).
2025-11-04 23:53:16.542 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:16.545 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:16.550 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:53:16.554 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-11-04 23:53:16.556 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-11-04 23:53:16.557 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Name] = @__cityName_0
2025-11-04 23:53:16.562 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Name] = @__cityName_0
2025-11-04 23:53:16.565 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:53:16.567 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:16.569 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 4ms reading results.
2025-11-04 23:53:16.573 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:16.578 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (5ms).
2025-11-04 23:53:16.585 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:16.590 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:16.597 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:53:16.605 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-11-04 23:53:16.612 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-11-04 23:53:16.622 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2025-11-04 23:53:16.632 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2025-11-04 23:53:16.642 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:16.653 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 11ms reading results.
2025-11-04 23:53:16.659 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:16.668 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (9ms).
2025-11-04 23:53:16.675 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-11-04 23:53:16.686 +06:00 [DBG] No information found on request to perform content negotiation.
2025-11-04 23:53:16.690 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-04 23:53:16.694 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-04 23:53:16.696 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-04 23:53:16.698 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 23:53:16.700 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 284.5293ms
2025-11-04 23:53:16.703 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-11-04 23:53:16.705 +06:00 [DBG] 'CityInfoContext' disposed.
2025-11-04 23:53:16.706 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:16.709 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-11-04 23:53:16.712 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/dhaka/pointsofinterest - 200 2 application/json; charset=utf-8 462.1338ms
2025-11-04 23:53:18.771 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2025-11-04 23:53:18.788 +06:00 [DBG] The request path  does not match the path filter
2025-11-04 23:53:18.793 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:53:18.800 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:53:18.804 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-11-04 23:53:18.809 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-11-04 23:53:18.817 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-11-04 23:53:18.823 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:53:18.827 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-11-04 23:53:18.831 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-11-04 23:53:18.836 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-04 23:53:18.841 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-04 23:53:18.845 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-04 23:53:18.851 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-04 23:53:18.857 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-04 23:53:18.863 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-11-04 23:53:18.866 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-11-04 23:53:18.870 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-11-04 23:53:18.874 +06:00 [DBG] Creating DbConnection.
2025-11-04 23:53:18.876 +06:00 [DBG] Created DbConnection. (1ms).
2025-11-04 23:53:18.878 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:18.880 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:18.882 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:53:18.883 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-04 23:53:18.885 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-11-04 23:53:18.887 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2025-11-04 23:53:18.898 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2025-11-04 23:53:18.904 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:53:18.907 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:18.909 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 5ms reading results.
2025-11-04 23:53:18.912 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:18.914 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (2ms).
2025-11-04 23:53:18.917 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-11-04 23:53:18.921 +06:00 [DBG] No information found on request to perform content negotiation.
2025-11-04 23:53:18.922 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-04 23:53:18.924 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-04 23:53:18.925 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-04 23:53:18.927 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 23:53:18.930 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 67.0282ms
2025-11-04 23:53:18.932 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-11-04 23:53:18.934 +06:00 [DBG] 'CityInfoContext' disposed.
2025-11-04 23:53:18.935 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:18.938 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-11-04 23:53:18.941 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 72 application/json; charset=utf-8 171.1796ms
2025-11-04 23:53:23.236 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities//pointsofinterest - null null
2025-11-04 23:53:23.250 +06:00 [DBG] The request path  does not match the path filter
2025-11-04 23:53:23.254 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:53:23.257 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:53:23.262 +06:00 [DBG] No candidates found for the request path '/api/cities//pointsofinterest'
2025-11-04 23:53:23.266 +06:00 [DBG] Request did not match any endpoints
2025-11-04 23:53:23.267 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:53:23.269 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities//pointsofinterest - 404 0 null 33.1882ms
2025-11-04 23:53:23.277 +06:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7156/api/cities//pointsofinterest, Response status code: 404
2025-11-04 23:53:34.277 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/Dhaka/pointsofinterest/riad - null null
2025-11-04 23:53:34.298 +06:00 [DBG] OPTIONS requests are not supported
2025-11-04 23:53:34.301 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:53:34.306 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:53:34.310 +06:00 [DBG] The request is a preflight request.
2025-11-04 23:53:34.316 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/Dhaka/pointsofinterest/riad - 204 null null 40.0751ms
2025-11-04 23:53:34.320 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities/Dhaka/pointsofinterest/riad - application/json 94
2025-11-04 23:53:34.367 +06:00 [DBG] POST requests are not supported
2025-11-04 23:53:34.370 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:53:34.373 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:53:34.379 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/Dhaka/pointsofinterest/riad'
2025-11-04 23:53:34.386 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityName}/pointsofinterest/{userName}' is valid for the request path '/api/cities/Dhaka/pointsofinterest/riad'
2025-11-04 23:53:34.396 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2025-11-04 23:53:34.400 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:53:34.406 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2025-11-04 23:53:34.421 +06:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(System.String, System.String, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-11-04 23:53:34.429 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-04 23:53:34.436 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-04 23:53:34.442 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-04 23:53:34.449 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-04 23:53:34.458 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-04 23:53:34.470 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-11-04 23:53:34.479 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-11-04 23:53:34.487 +06:00 [DBG] Attempting to bind parameter 'cityName' of type 'System.String' ...
2025-11-04 23:53:34.493 +06:00 [DBG] Attempting to bind parameter 'cityName' of type 'System.String' using the name 'cityName' in request data ...
2025-11-04 23:53:34.499 +06:00 [DBG] Done attempting to bind parameter 'cityName' of type 'System.String'.
2025-11-04 23:53:34.503 +06:00 [DBG] Done attempting to bind parameter 'cityName' of type 'System.String'.
2025-11-04 23:53:34.509 +06:00 [DBG] Attempting to validate the bound parameter 'cityName' of type 'System.String' ...
2025-11-04 23:53:34.516 +06:00 [DBG] Done attempting to validate the bound parameter 'cityName' of type 'System.String'.
2025-11-04 23:53:34.522 +06:00 [DBG] Attempting to bind parameter 'userName' of type 'System.String' ...
2025-11-04 23:53:34.526 +06:00 [DBG] Attempting to bind parameter 'userName' of type 'System.String' using the name 'userName' in request data ...
2025-11-04 23:53:34.533 +06:00 [DBG] Done attempting to bind parameter 'userName' of type 'System.String'.
2025-11-04 23:53:34.539 +06:00 [DBG] Done attempting to bind parameter 'userName' of type 'System.String'.
2025-11-04 23:53:34.546 +06:00 [DBG] Attempting to validate the bound parameter 'userName' of type 'System.String' ...
2025-11-04 23:53:34.553 +06:00 [DBG] Done attempting to validate the bound parameter 'userName' of type 'System.String'.
2025-11-04 23:53:34.556 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2025-11-04 23:53:34.558 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2025-11-04 23:53:34.560 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-11-04 23:53:34.563 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-11-04 23:53:34.567 +06:00 [DBG] Connection id "0HNGRP86HKGOB", Request id "0HNGRP86HKGOB:00000031": started reading request body.
2025-11-04 23:53:34.571 +06:00 [DBG] Connection id "0HNGRP86HKGOB", Request id "0HNGRP86HKGOB:00000031": done reading request body.
2025-11-04 23:53:34.585 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2025-11-04 23:53:34.591 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2025-11-04 23:53:34.595 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2025-11-04 23:53:34.601 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2025-11-04 23:53:34.607 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-11-04 23:53:34.614 +06:00 [DBG] Creating DbConnection.
2025-11-04 23:53:34.618 +06:00 [DBG] Created DbConnection. (3ms).
2025-11-04 23:53:34.621 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:34.624 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:34.628 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:53:34.632 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-11-04 23:53:34.637 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-11-04 23:53:34.640 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Name] = @__cityName_0
2025-11-04 23:53:34.647 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Name] = @__cityName_0
2025-11-04 23:53:34.653 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:53:34.656 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:34.658 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 6ms reading results.
2025-11-04 23:53:34.662 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:34.664 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (2ms).
2025-11-04 23:53:34.668 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:34.672 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:34.674 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:53:34.677 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-11-04 23:53:34.679 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-11-04 23:53:34.682 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:53:34.691 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:53:34.695 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:34.699 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 3ms reading results.
2025-11-04 23:53:34.702 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:34.703 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (1ms).
2025-11-04 23:53:34.714 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2025-11-04 23:53:34.724 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], [Property: City.userId (int) Required FK Index, 3] }
            SELECT TOP(1) c.Id, c.Description, c.Name, c.userId
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-11-04 23:53:34.727 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:34.730 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:34.734 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:53:34.736 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-11-04 23:53:34.739 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-11-04 23:53:34.743 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2025-11-04 23:53:34.772 +06:00 [INF] Executed DbCommand (29ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2025-11-04 23:53:34.776 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:34.779 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 2ms reading results.
2025-11-04 23:53:34.782 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:34.785 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (3ms).
2025-11-04 23:53:34.790 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:34.794 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:34.796 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:53:34.798 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-04 23:53:34.801 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-11-04 23:53:34.803 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[token], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[userName] = @__userName_0
2025-11-04 23:53:34.811 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[token], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[userName] = @__userName_0
2025-11-04 23:53:34.826 +06:00 [DBG] The navigation 'City.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:53:34.828 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:53:34.832 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:34.835 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 18ms reading results.
2025-11-04 23:53:34.839 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:34.844 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (4ms).
2025-11-04 23:53:34.852 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2025-11-04 23:53:34.858 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2025-11-04 23:53:34.873 +06:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:53:34.890 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'PointOfInterest.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:53:34.913 +06:00 [DBG] The navigation 'PointOfInterest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:53:34.919 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:53:34.921 +06:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'User.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:53:34.928 +06:00 [DBG] The foreign key property 'PointOfInterest.userId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-04 23:53:34.931 +06:00 [DBG] The navigation 'PointOfInterest.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:53:34.934 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2025-11-04 23:53:34.939 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:34.940 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:34.942 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:53:34.944 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-11-04 23:53:34.945 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-11-04 23:53:34.949 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PointsOfInterest] ([CityId], [Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-11-04 23:53:34.959 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PointsOfInterest] ([CityId], [Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-11-04 23:53:34.964 +06:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-11-04 23:53:34.966 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:34.967 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 4ms reading results.
2025-11-04 23:53:34.971 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:34.973 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (2ms).
2025-11-04 23:53:34.976 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:53:34.979 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2025-11-04 23:53:34.982 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-11-04 23:53:34.986 +06:00 [DBG] No information found on request to perform content negotiation.
2025-11-04 23:53:34.988 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-04 23:53:34.990 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-04 23:53:34.993 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2025-11-04 23:53:34.997 +06:00 [INF] Executing CreatedResult, writing value of type 'null'.
2025-11-04 23:53:35.001 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 530.7878ms
2025-11-04 23:53:35.003 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2025-11-04 23:53:35.006 +06:00 [DBG] 'CityInfoContext' disposed.
2025-11-04 23:53:35.008 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:35.010 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-11-04 23:53:35.014 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities/Dhaka/pointsofinterest/riad - 204 null null 693.779ms
2025-11-04 23:53:37.066 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities//pointsofinterest - null null
2025-11-04 23:53:37.085 +06:00 [DBG] The request path  does not match the path filter
2025-11-04 23:53:37.093 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:53:37.102 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:53:37.108 +06:00 [DBG] No candidates found for the request path '/api/cities//pointsofinterest'
2025-11-04 23:53:37.115 +06:00 [DBG] Request did not match any endpoints
2025-11-04 23:53:37.120 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:53:37.128 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities//pointsofinterest - 404 0 null 62.3336ms
2025-11-04 23:53:37.136 +06:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7156/api/cities//pointsofinterest, Response status code: 404
2025-11-04 23:53:44.297 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/dhaka/pointsofinterest - null null
2025-11-04 23:53:44.316 +06:00 [DBG] The request path  does not match the path filter
2025-11-04 23:53:44.322 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-11-04 23:53:44.327 +06:00 [INF] CORS policy execution successful.
2025-11-04 23:53:44.332 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/dhaka/pointsofinterest'
2025-11-04 23:53:44.336 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityName}/pointsofinterest' is valid for the request path '/api/cities/dhaka/pointsofinterest'
2025-11-04 23:53:44.344 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-11-04 23:53:44.350 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-04 23:53:44.354 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-11-04 23:53:44.358 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(System.String) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-11-04 23:53:44.367 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-04 23:53:44.373 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-04 23:53:44.381 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-04 23:53:44.391 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-04 23:53:44.397 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-04 23:53:44.403 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-11-04 23:53:44.407 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-11-04 23:53:44.411 +06:00 [DBG] Attempting to bind parameter 'cityName' of type 'System.String' ...
2025-11-04 23:53:44.416 +06:00 [DBG] Attempting to bind parameter 'cityName' of type 'System.String' using the name 'cityName' in request data ...
2025-11-04 23:53:44.419 +06:00 [DBG] Done attempting to bind parameter 'cityName' of type 'System.String'.
2025-11-04 23:53:44.423 +06:00 [DBG] Done attempting to bind parameter 'cityName' of type 'System.String'.
2025-11-04 23:53:44.428 +06:00 [DBG] Attempting to validate the bound parameter 'cityName' of type 'System.String' ...
2025-11-04 23:53:44.433 +06:00 [DBG] Done attempting to validate the bound parameter 'cityName' of type 'System.String'.
2025-11-04 23:53:44.438 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-11-04 23:53:44.445 +06:00 [DBG] Creating DbConnection.
2025-11-04 23:53:44.448 +06:00 [DBG] Created DbConnection. (3ms).
2025-11-04 23:53:44.451 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:44.454 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:44.458 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:53:44.462 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-11-04 23:53:44.465 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-11-04 23:53:44.470 +06:00 [DBG] Executing DbCommand [Parameters=[@__Name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Name] = @__Name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:53:44.501 +06:00 [INF] Executed DbCommand (31ms) [Parameters=[@__Name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Name] = @__Name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 23:53:44.513 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:44.516 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 3ms reading results.
2025-11-04 23:53:44.523 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:44.530 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (6ms).
2025-11-04 23:53:44.536 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:44.540 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:44.548 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:53:44.552 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-11-04 23:53:44.553 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-11-04 23:53:44.555 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Name] = @__cityName_0
2025-11-04 23:53:44.562 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Name] = @__cityName_0
2025-11-04 23:53:44.570 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:53:44.574 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:44.576 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 5ms reading results.
2025-11-04 23:53:44.579 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:44.581 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (2ms).
2025-11-04 23:53:44.585 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:44.589 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:44.592 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-04 23:53:44.594 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-11-04 23:53:44.598 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-11-04 23:53:44.602 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2025-11-04 23:53:44.633 +06:00 [INF] Executed DbCommand (31ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2025-11-04 23:53:44.640 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-04 23:53:44.643 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:44.645 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM2570' is being disposed after spending 7ms reading results.
2025-11-04 23:53:44.648 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:44.651 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM2570' (2ms).
2025-11-04 23:53:44.656 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-11-04 23:53:44.661 +06:00 [DBG] No information found on request to perform content negotiation.
2025-11-04 23:53:44.663 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-04 23:53:44.665 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-04 23:53:44.669 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-04 23:53:44.673 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 23:53:44.683 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 279.9606ms
2025-11-04 23:53:44.688 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-11-04 23:53:44.694 +06:00 [DBG] 'CityInfoContext' disposed.
2025-11-04 23:53:44.698 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM2570'.
2025-11-04 23:53:44.705 +06:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-11-04 23:53:44.707 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/dhaka/pointsofinterest - 200 88 application/json; charset=utf-8 410.8307ms
